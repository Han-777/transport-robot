ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"DJI_motor.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.MotorSenderGrouping,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	MotorSenderGrouping:
  25              	.LVL0:
  26              	.LFB185:
  27              		.file 1 "modules/motor/DJI_motor/DJI_motor.c"
   1:modules/motor/DJI_motor/DJI_motor.c **** #include "dji_motor.h"
   2:modules/motor/DJI_motor/DJI_motor.c **** #include "general_def.h"
   3:modules/motor/DJI_motor/DJI_motor.c **** #include "bsp_dwt.h"
   4:modules/motor/DJI_motor/DJI_motor.c **** // #include "bsp_log.h"
   5:modules/motor/DJI_motor/DJI_motor.c **** float speed_pid;
   6:modules/motor/DJI_motor/DJI_motor.c **** float current_pid;
   7:modules/motor/DJI_motor/DJI_motor.c **** float real_c;
   8:modules/motor/DJI_motor/DJI_motor.c **** float real_s;
   9:modules/motor/DJI_motor/DJI_motor.c **** float speed_err;
  10:modules/motor/DJI_motor/DJI_motor.c **** static uint8_t idx = 0; // register idx,æ˜¯è¯¥æ–‡ä»¶çš„å…¨å±€ç”µæœºç´¢å¼•,åœ¨æ³¨å†Œæ—¶ä½¿ç”¨
  11:modules/motor/DJI_motor/DJI_motor.c **** /* DJIç”µæœºçš„å®žä¾‹,æ­¤å¤„ä»…ä¿å­˜æŒ‡é’ˆ,å†…å­˜çš„åˆ†é…å°†é€šè¿‡ç”µæœºå®žä¾‹åˆå§‹åŒ–æ—¶é€šè¿‡m
  12:modules/motor/DJI_motor/DJI_motor.c **** static DJIMotorInstance *dji_motor_instance[DJI_MOTOR_CNT] = {NULL}; // ä¼šåœ¨controlä»»åŠ¡ä¸­éåŽ
  13:modules/motor/DJI_motor/DJI_motor.c **** 
  14:modules/motor/DJI_motor/DJI_motor.c **** /**
  15:modules/motor/DJI_motor/DJI_motor.c ****  * @brief ç”±äºŽDJIç”µæœºå‘é€ä»¥å››ä¸ªä¸€ç»„çš„å½¢å¼è¿›è¡Œ,æ•…å¯¹å…¶è¿›è¡Œç‰¹æ®Šå¤„ç†,ç”¨6ä¸ª(2
  16:modules/motor/DJI_motor/DJI_motor.c ****  *        è¯¥å˜é‡å°†åœ¨ DJIMotorControl() ä¸­ä½¿ç”¨,åˆ†ç»„åœ¨ MotorSenderGrouping()ä¸­è¿›è¡Œ
  17:modules/motor/DJI_motor/DJI_motor.c ****  *
  18:modules/motor/DJI_motor/DJI_motor.c ****  * @note  å› ä¸ºåªç”¨äºŽå‘é€,æ‰€ä»¥ä¸éœ€è¦åœ¨bsp_canä¸­æ³¨å†Œ
  19:modules/motor/DJI_motor/DJI_motor.c ****  *
  20:modules/motor/DJI_motor/DJI_motor.c ****  * C610(m2006)/C620(m3508):0x1ff,0x200;
  21:modules/motor/DJI_motor/DJI_motor.c ****  * GM6020:0x1ff,0x2ff
  22:modules/motor/DJI_motor/DJI_motor.c ****  * åé¦ˆ(rx_id): GM6020: 0x204+id ; C610/C620: 0x200+id
  23:modules/motor/DJI_motor/DJI_motor.c ****  * can1: [0]:0x1FF,[1]:0x200,[2]:0x2FF
  24:modules/motor/DJI_motor/DJI_motor.c ****  * can2: [3]:0x1FF,[4]:0x200,[5]:0x2FF
  25:modules/motor/DJI_motor/DJI_motor.c ****  */
  26:modules/motor/DJI_motor/DJI_motor.c **** static CANInstance sender_assignment[6] = {
  27:modules/motor/DJI_motor/DJI_motor.c ****     [0] = {.can_handle = &hfdcan1, .txconf.Identifier = 0x1ff, .txconf.IdType = FDCAN_STANDARD_ID, 
  28:modules/motor/DJI_motor/DJI_motor.c ****     [1] = {.can_handle = &hfdcan1, .txconf.Identifier = 0x200, .txconf.IdType = FDCAN_STANDARD_ID, 
  29:modules/motor/DJI_motor/DJI_motor.c ****     [2] = {.can_handle = &hfdcan1, .txconf.Identifier = 0x2ff, .txconf.IdType = FDCAN_STANDARD_ID, 
  30:modules/motor/DJI_motor/DJI_motor.c ****     [3] = {.can_handle = &hfdcan2, .txconf.Identifier = 0x1ff, .txconf.IdType = FDCAN_STANDARD_ID, 
  31:modules/motor/DJI_motor/DJI_motor.c ****     [4] = {.can_handle = &hfdcan2, .txconf.Identifier = 0x200, .txconf.IdType = FDCAN_STANDARD_ID, 
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 2


  32:modules/motor/DJI_motor/DJI_motor.c ****     [5] = {.can_handle = &hfdcan2, .txconf.Identifier = 0x2ff, .txconf.IdType = FDCAN_STANDARD_ID, 
  33:modules/motor/DJI_motor/DJI_motor.c **** };
  34:modules/motor/DJI_motor/DJI_motor.c **** 
  35:modules/motor/DJI_motor/DJI_motor.c **** /**
  36:modules/motor/DJI_motor/DJI_motor.c ****  * @brief 6ä¸ªç”¨äºŽç¡®è®¤æ˜¯å¦æœ‰ç”µæœºæ³¨å†Œåˆ°sender_assignmentä¸­çš„æ ‡å¿—ä½,é˜²æ­¢å‘é€ç©ºå
  37:modules/motor/DJI_motor/DJI_motor.c ****  *        flagçš„åˆå§‹åŒ–åœ¨ MotorSenderGrouping()ä¸­è¿›è¡Œ
  38:modules/motor/DJI_motor/DJI_motor.c ****  */
  39:modules/motor/DJI_motor/DJI_motor.c **** static uint8_t sender_enable_flag[6] = {0};
  40:modules/motor/DJI_motor/DJI_motor.c **** 
  41:modules/motor/DJI_motor/DJI_motor.c **** /**
  42:modules/motor/DJI_motor/DJI_motor.c ****  * @brief æ ¹æ®ç”µè°ƒ/æ‹¨ç å¼€å…³ä¸Šçš„ID,æ ¹æ®è¯´æ˜Žä¹¦çš„é»˜è®¤idåˆ†é…æ–¹å¼è®¡ç®—å‘é€IDå’Œ
  43:modules/motor/DJI_motor/DJI_motor.c ****  *        å¹¶å¯¹ç”µæœºè¿›è¡Œåˆ†ç»„ä»¥ä¾¿å¤„ç†å¤šç”µæœºæŽ§åˆ¶å‘½ä»¤
  44:modules/motor/DJI_motor/DJI_motor.c ****  */
  45:modules/motor/DJI_motor/DJI_motor.c **** static void MotorSenderGrouping(DJIMotorInstance *motor, CAN_Init_Config_s *config)
  46:modules/motor/DJI_motor/DJI_motor.c **** {
  28              		.loc 1 46 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              		.loc 1 46 1 is_stmt 0 view .LVU1
  34 0000 30B4     		push	{r4, r5}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 4, -8
  38              		.cfi_offset 5, -4
  47:modules/motor/DJI_motor/DJI_motor.c ****     uint8_t motor_id = config->tx_id - 1; // Start from zero index, subtract one for convenience
  39              		.loc 1 47 5 is_stmt 1 view .LVU2
  40              		.loc 1 47 38 is_stmt 0 view .LVU3
  41 0002 91F804C0 		ldrb	ip, [r1, #4]	@ zero_extendqisi2
  42              		.loc 1 47 13 view .LVU4
  43 0006 0CF1FF32 		add	r2, ip, #-1
  44 000a D2B2     		uxtb	r2, r2
  45              	.LVL1:
  48:modules/motor/DJI_motor/DJI_motor.c ****     uint8_t motor_send_num;
  46              		.loc 1 48 5 is_stmt 1 view .LVU5
  49:modules/motor/DJI_motor/DJI_motor.c ****     uint8_t motor_grouping;
  47              		.loc 1 49 5 view .LVU6
  50:modules/motor/DJI_motor/DJI_motor.c **** 
  51:modules/motor/DJI_motor/DJI_motor.c ****     switch (motor->motor_type)
  48              		.loc 1 51 5 view .LVU7
  49              		.loc 1 51 18 is_stmt 0 view .LVU8
  50 000c 90F8A631 		ldrb	r3, [r0, #422]	@ zero_extendqisi2
  51              		.loc 1 51 5 view .LVU9
  52 0010 012B     		cmp	r3, #1
  53 0012 3ED0     		beq	.L2
  54 0014 5CB2     		sxtb	r4, r3
  55 0016 002C     		cmp	r4, #0
  56 0018 73D0     		beq	.L3
  57 001a 023B     		subs	r3, r3, #2
  58 001c DBB2     		uxtb	r3, r3
  59 001e 012B     		cmp	r3, #1
  60 0020 6FD8     		bhi	.L3
  52:modules/motor/DJI_motor/DJI_motor.c ****     {
  53:modules/motor/DJI_motor/DJI_motor.c ****     case M2006:
  54:modules/motor/DJI_motor/DJI_motor.c ****     case M3508:
  55:modules/motor/DJI_motor/DJI_motor.c ****         if (motor_id < 4) // Grouping based on ID
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 3


  61              		.loc 1 55 9 is_stmt 1 view .LVU10
  62              		.loc 1 55 12 is_stmt 0 view .LVU11
  63 0022 032A     		cmp	r2, #3
  64 0024 16D8     		bhi	.L4
  56:modules/motor/DJI_motor/DJI_motor.c ****         {
  57:modules/motor/DJI_motor/DJI_motor.c ****             motor_send_num = motor_id;
  65              		.loc 1 57 13 is_stmt 1 view .LVU12
  66              	.LVL2:
  58:modules/motor/DJI_motor/DJI_motor.c ****             motor_grouping = config->can_handle == &hfdcan1 ? 1 : 4;
  67              		.loc 1 58 13 view .LVU13
  68              		.loc 1 58 36 is_stmt 0 view .LVU14
  69 0026 0C68     		ldr	r4, [r1]
  70              		.loc 1 58 28 view .LVU15
  71 0028 374B     		ldr	r3, .L26
  72 002a 9C42     		cmp	r4, r3
  73 002c 0FD0     		beq	.L22
  57:modules/motor/DJI_motor/DJI_motor.c ****             motor_grouping = config->can_handle == &hfdcan1 ? 1 : 4;
  74              		.loc 1 57 28 view .LVU16
  75 002e 1346     		mov	r3, r2
  76              		.loc 1 58 28 view .LVU17
  77 0030 0424     		movs	r4, #4
  78              	.LVL3:
  79              	.L5:
  59:modules/motor/DJI_motor/DJI_motor.c ****         }
  60:modules/motor/DJI_motor/DJI_motor.c ****         else
  61:modules/motor/DJI_motor/DJI_motor.c ****         {
  62:modules/motor/DJI_motor/DJI_motor.c ****             motor_send_num = motor_id - 4;
  63:modules/motor/DJI_motor/DJI_motor.c ****             motor_grouping = config->can_handle == &hfdcan1 ? 0 : 3;
  64:modules/motor/DJI_motor/DJI_motor.c ****         }
  65:modules/motor/DJI_motor/DJI_motor.c ****         // Calculate receiving ID and set group sending ID
  66:modules/motor/DJI_motor/DJI_motor.c ****         config->rx_id = 0x200 + motor_id + 1;   // Add 1 to ID, and set group
  80              		.loc 1 66 9 is_stmt 1 view .LVU18
  81              		.loc 1 66 42 is_stmt 0 view .LVU19
  82 0032 02F20122 		addw	r2, r2, #513
  83              	.LVL4:
  84              		.loc 1 66 23 view .LVU20
  85 0036 8A60     		str	r2, [r1, #8]
  67:modules/motor/DJI_motor/DJI_motor.c ****         sender_enable_flag[motor_grouping] = 1; // Set sending flag to prevent sending empty frames
  86              		.loc 1 67 9 is_stmt 1 view .LVU21
  87              		.loc 1 67 44 is_stmt 0 view .LVU22
  88 0038 344A     		ldr	r2, .L26+4
  89              	.LVL5:
  90              		.loc 1 67 44 view .LVU23
  91 003a 4FF0010C 		mov	ip, #1
  92 003e 02F804C0 		strb	ip, [r2, r4]
  68:modules/motor/DJI_motor/DJI_motor.c ****         motor->message_num = motor_send_num;
  93              		.loc 1 68 9 is_stmt 1 view .LVU24
  94              		.loc 1 68 28 is_stmt 0 view .LVU25
  95 0042 80F8A531 		strb	r3, [r0, #421]
  96              	.LVL6:
  69:modules/motor/DJI_motor/DJI_motor.c ****         motor->sender_group = motor_grouping;
  97              		.loc 1 69 9 is_stmt 1 view .LVU26
  98              		.loc 1 69 29 is_stmt 0 view .LVU27
  99 0046 80F8A441 		strb	r4, [r0, #420]
  70:modules/motor/DJI_motor/DJI_motor.c **** 
  71:modules/motor/DJI_motor/DJI_motor.c ****         // Check for ID conflict
  72:modules/motor/DJI_motor/DJI_motor.c ****         for (size_t i = 0; i < idx; ++i)
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 4


 100              		.loc 1 72 9 is_stmt 1 view .LVU28
 101              	.LBB2:
 102              		.loc 1 72 14 view .LVU29
 103              	.LVL7:
 104              		.loc 1 72 21 is_stmt 0 view .LVU30
 105 004a 0023     		movs	r3, #0
 106              	.LVL8:
 107              		.loc 1 72 9 view .LVU31
 108 004c 0EE0     		b	.L6
 109              	.LVL9:
 110              	.L22:
 111              		.loc 1 72 9 view .LVU32
 112              	.LBE2:
  57:modules/motor/DJI_motor/DJI_motor.c ****             motor_grouping = config->can_handle == &hfdcan1 ? 1 : 4;
 113              		.loc 1 57 28 view .LVU33
 114 004e 1346     		mov	r3, r2
  58:modules/motor/DJI_motor/DJI_motor.c ****         }
 115              		.loc 1 58 28 view .LVU34
 116 0050 0124     		movs	r4, #1
 117 0052 EEE7     		b	.L5
 118              	.LVL10:
 119              	.L4:
  62:modules/motor/DJI_motor/DJI_motor.c ****             motor_grouping = config->can_handle == &hfdcan1 ? 0 : 3;
 120              		.loc 1 62 13 is_stmt 1 view .LVU35
  62:modules/motor/DJI_motor/DJI_motor.c ****             motor_grouping = config->can_handle == &hfdcan1 ? 0 : 3;
 121              		.loc 1 62 28 is_stmt 0 view .LVU36
 122 0054 ACF10503 		sub	r3, ip, #5
 123 0058 DBB2     		uxtb	r3, r3
 124              	.LVL11:
  63:modules/motor/DJI_motor/DJI_motor.c ****         }
 125              		.loc 1 63 13 is_stmt 1 view .LVU37
  63:modules/motor/DJI_motor/DJI_motor.c ****         }
 126              		.loc 1 63 28 is_stmt 0 view .LVU38
 127 005a 2B4C     		ldr	r4, .L26
 128 005c 0D68     		ldr	r5, [r1]
 129 005e A542     		cmp	r5, r4
 130 0060 01D0     		beq	.L23
 131 0062 0324     		movs	r4, #3
 132 0064 E5E7     		b	.L5
 133              	.L23:
 134 0066 0024     		movs	r4, #0
 135 0068 E3E7     		b	.L5
 136              	.LVL12:
 137              	.L7:
 138              	.LBB3:
 139              		.loc 1 72 37 is_stmt 1 discriminator 2 view .LVU39
 140 006a 0133     		adds	r3, r3, #1
 141              	.LVL13:
 142              	.L6:
 143              		.loc 1 72 28 discriminator 1 view .LVU40
 144              		.loc 1 72 30 is_stmt 0 discriminator 1 view .LVU41
 145 006c 284A     		ldr	r2, .L26+8
 146 006e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 147              		.loc 1 72 9 discriminator 1 view .LVU42
 148 0070 9A42     		cmp	r2, r3
 149 0072 47D9     		bls	.L1
  73:modules/motor/DJI_motor/DJI_motor.c ****         {
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 5


  74:modules/motor/DJI_motor/DJI_motor.c ****             if (dji_motor_instance[i]->motor_can_instance->can_handle == config->can_handle && dji_
 150              		.loc 1 74 13 is_stmt 1 view .LVU43
 151              		.loc 1 74 35 is_stmt 0 view .LVU44
 152 0074 274A     		ldr	r2, .L26+12
 153 0076 52F82320 		ldr	r2, [r2, r3, lsl #2]
 154              		.loc 1 74 38 view .LVU45
 155 007a D2F8A021 		ldr	r2, [r2, #416]
 156              		.loc 1 74 58 view .LVU46
 157 007e D2F800C0 		ldr	ip, [r2]	@ unaligned
 158              		.loc 1 74 80 view .LVU47
 159 0082 0868     		ldr	r0, [r1]
 160              		.loc 1 74 16 view .LVU48
 161 0084 8445     		cmp	ip, r0
 162 0086 F0D1     		bne	.L7
 163              		.loc 1 74 137 discriminator 1 view .LVU49
 164 0088 106C     		ldr	r0, [r2, #64]	@ unaligned
 165              		.loc 1 74 154 discriminator 1 view .LVU50
 166 008a 8A68     		ldr	r2, [r1, #8]
 167              		.loc 1 74 93 discriminator 1 view .LVU51
 168 008c 9042     		cmp	r0, r2
 169 008e ECD1     		bne	.L7
 170              	.L8:
 171              	.LBE3:
  75:modules/motor/DJI_motor/DJI_motor.c ****             {
  76:modules/motor/DJI_motor/DJI_motor.c ****                 // LOGERROR("[dji_motor] ID crash. Check in debug mode, add dji_motor_instance to w
  77:modules/motor/DJI_motor/DJI_motor.c ****                 uint16_t can_bus = config->can_handle == &hfdcan1 ? 1 : 2;
  78:modules/motor/DJI_motor/DJI_motor.c ****                 while (1)
 172              		.loc 1 78 17 is_stmt 1 discriminator 1 view .LVU52
  79:modules/motor/DJI_motor/DJI_motor.c ****                     ; // Conflict between IDs 1-4 of 6020 and IDs 5-8 of 2006/3508 (1!5, 2!6, 3!7, 
 173              		.loc 1 79 21 discriminator 1 view .LVU53
  78:modules/motor/DJI_motor/DJI_motor.c ****                     ; // Conflict between IDs 1-4 of 6020 and IDs 5-8 of 2006/3508 (1!5, 2!6, 3!7, 
 174              		.loc 1 78 23 discriminator 1 view .LVU54
 175 0090 FEE7     		b	.L8
 176              	.LVL14:
 177              	.L2:
  80:modules/motor/DJI_motor/DJI_motor.c ****                       // LOGERROR("[dji_motor] id [%d], can_bus [%d]", config->rx_id, can_bus);
  81:modules/motor/DJI_motor/DJI_motor.c ****             }
  82:modules/motor/DJI_motor/DJI_motor.c ****         }
  83:modules/motor/DJI_motor/DJI_motor.c ****         break;
  84:modules/motor/DJI_motor/DJI_motor.c **** 
  85:modules/motor/DJI_motor/DJI_motor.c ****     case GM6020:
  86:modules/motor/DJI_motor/DJI_motor.c ****         if (motor_id < 4)
 178              		.loc 1 86 9 view .LVU55
 179              		.loc 1 86 12 is_stmt 0 view .LVU56
 180 0092 032A     		cmp	r2, #3
 181 0094 16D8     		bhi	.L11
  87:modules/motor/DJI_motor/DJI_motor.c ****         {
  88:modules/motor/DJI_motor/DJI_motor.c ****             motor_send_num = motor_id;
 182              		.loc 1 88 13 is_stmt 1 view .LVU57
 183              	.LVL15:
  89:modules/motor/DJI_motor/DJI_motor.c ****             motor_grouping = config->can_handle == &hfdcan1 ? 0 : 3;
 184              		.loc 1 89 13 view .LVU58
 185              		.loc 1 89 36 is_stmt 0 view .LVU59
 186 0096 0C68     		ldr	r4, [r1]
 187              		.loc 1 89 28 view .LVU60
 188 0098 1B4B     		ldr	r3, .L26
 189 009a 9C42     		cmp	r4, r3
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 6


 190 009c 0FD0     		beq	.L24
  88:modules/motor/DJI_motor/DJI_motor.c ****             motor_grouping = config->can_handle == &hfdcan1 ? 0 : 3;
 191              		.loc 1 88 28 view .LVU61
 192 009e 1346     		mov	r3, r2
 193              		.loc 1 89 28 view .LVU62
 194 00a0 0324     		movs	r4, #3
 195              	.LVL16:
 196              	.L12:
  90:modules/motor/DJI_motor/DJI_motor.c ****         }
  91:modules/motor/DJI_motor/DJI_motor.c ****         else
  92:modules/motor/DJI_motor/DJI_motor.c ****         {
  93:modules/motor/DJI_motor/DJI_motor.c ****             motor_send_num = motor_id - 4;
  94:modules/motor/DJI_motor/DJI_motor.c ****             motor_grouping = config->can_handle == &hfdcan1 ? 2 : 5;
  95:modules/motor/DJI_motor/DJI_motor.c ****         }
  96:modules/motor/DJI_motor/DJI_motor.c **** 
  97:modules/motor/DJI_motor/DJI_motor.c ****         config->rx_id = 0x204 + motor_id + 1;   // Add 1 to ID, and set group
 197              		.loc 1 97 9 is_stmt 1 view .LVU63
 198              		.loc 1 97 42 is_stmt 0 view .LVU64
 199 00a2 02F20522 		addw	r2, r2, #517
 200              	.LVL17:
 201              		.loc 1 97 23 view .LVU65
 202 00a6 8A60     		str	r2, [r1, #8]
  98:modules/motor/DJI_motor/DJI_motor.c ****         sender_enable_flag[motor_grouping] = 1; // Set sending flag to prevent sending empty frames
 203              		.loc 1 98 9 is_stmt 1 view .LVU66
 204              		.loc 1 98 44 is_stmt 0 view .LVU67
 205 00a8 184A     		ldr	r2, .L26+4
 206              	.LVL18:
 207              		.loc 1 98 44 view .LVU68
 208 00aa 4FF0010C 		mov	ip, #1
 209 00ae 02F804C0 		strb	ip, [r2, r4]
  99:modules/motor/DJI_motor/DJI_motor.c ****         motor->message_num = motor_send_num;
 210              		.loc 1 99 9 is_stmt 1 view .LVU69
 211              		.loc 1 99 28 is_stmt 0 view .LVU70
 212 00b2 80F8A531 		strb	r3, [r0, #421]
 213              	.LVL19:
 100:modules/motor/DJI_motor/DJI_motor.c ****         motor->sender_group = motor_grouping;
 214              		.loc 1 100 9 is_stmt 1 view .LVU71
 215              		.loc 1 100 29 is_stmt 0 view .LVU72
 216 00b6 80F8A441 		strb	r4, [r0, #420]
 101:modules/motor/DJI_motor/DJI_motor.c **** 
 102:modules/motor/DJI_motor/DJI_motor.c ****         for (size_t i = 0; i < idx; ++i)
 217              		.loc 1 102 9 is_stmt 1 view .LVU73
 218              	.LBB4:
 219              		.loc 1 102 14 view .LVU74
 220              	.LVL20:
 221              		.loc 1 102 21 is_stmt 0 view .LVU75
 222 00ba 0023     		movs	r3, #0
 223              	.LVL21:
 224              		.loc 1 102 9 view .LVU76
 225 00bc 0EE0     		b	.L13
 226              	.LVL22:
 227              	.L24:
 228              		.loc 1 102 9 view .LVU77
 229              	.LBE4:
  88:modules/motor/DJI_motor/DJI_motor.c ****             motor_grouping = config->can_handle == &hfdcan1 ? 0 : 3;
 230              		.loc 1 88 28 view .LVU78
 231 00be 1346     		mov	r3, r2
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 7


  89:modules/motor/DJI_motor/DJI_motor.c ****         }
 232              		.loc 1 89 28 view .LVU79
 233 00c0 0024     		movs	r4, #0
 234 00c2 EEE7     		b	.L12
 235              	.LVL23:
 236              	.L11:
  93:modules/motor/DJI_motor/DJI_motor.c ****             motor_grouping = config->can_handle == &hfdcan1 ? 2 : 5;
 237              		.loc 1 93 13 is_stmt 1 view .LVU80
  93:modules/motor/DJI_motor/DJI_motor.c ****             motor_grouping = config->can_handle == &hfdcan1 ? 2 : 5;
 238              		.loc 1 93 28 is_stmt 0 view .LVU81
 239 00c4 ACF10503 		sub	r3, ip, #5
 240 00c8 DBB2     		uxtb	r3, r3
 241              	.LVL24:
  94:modules/motor/DJI_motor/DJI_motor.c ****         }
 242              		.loc 1 94 13 is_stmt 1 view .LVU82
  94:modules/motor/DJI_motor/DJI_motor.c ****         }
 243              		.loc 1 94 28 is_stmt 0 view .LVU83
 244 00ca 0F4C     		ldr	r4, .L26
 245 00cc 0D68     		ldr	r5, [r1]
 246 00ce A542     		cmp	r5, r4
 247 00d0 01D0     		beq	.L25
 248 00d2 0524     		movs	r4, #5
 249 00d4 E5E7     		b	.L12
 250              	.L25:
 251 00d6 0224     		movs	r4, #2
 252 00d8 E3E7     		b	.L12
 253              	.LVL25:
 254              	.L14:
 255              	.LBB5:
 256              		.loc 1 102 37 is_stmt 1 discriminator 2 view .LVU84
 257 00da 0133     		adds	r3, r3, #1
 258              	.LVL26:
 259              	.L13:
 260              		.loc 1 102 28 discriminator 1 view .LVU85
 261              		.loc 1 102 30 is_stmt 0 discriminator 1 view .LVU86
 262 00dc 0C4A     		ldr	r2, .L26+8
 263 00de 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 264              		.loc 1 102 9 discriminator 1 view .LVU87
 265 00e0 9A42     		cmp	r2, r3
 266 00e2 0FD9     		bls	.L1
 103:modules/motor/DJI_motor/DJI_motor.c ****         {
 104:modules/motor/DJI_motor/DJI_motor.c ****             if (dji_motor_instance[i]->motor_can_instance->can_handle == config->can_handle && dji_
 267              		.loc 1 104 13 is_stmt 1 view .LVU88
 268              		.loc 1 104 35 is_stmt 0 view .LVU89
 269 00e4 0B4A     		ldr	r2, .L26+12
 270 00e6 52F82320 		ldr	r2, [r2, r3, lsl #2]
 271              		.loc 1 104 38 view .LVU90
 272 00ea D2F8A021 		ldr	r2, [r2, #416]
 273              		.loc 1 104 58 view .LVU91
 274 00ee D2F800C0 		ldr	ip, [r2]	@ unaligned
 275              		.loc 1 104 80 view .LVU92
 276 00f2 0868     		ldr	r0, [r1]
 277              		.loc 1 104 16 view .LVU93
 278 00f4 8445     		cmp	ip, r0
 279 00f6 F0D1     		bne	.L14
 280              		.loc 1 104 137 discriminator 1 view .LVU94
 281 00f8 106C     		ldr	r0, [r2, #64]	@ unaligned
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 8


 282              		.loc 1 104 154 discriminator 1 view .LVU95
 283 00fa 8A68     		ldr	r2, [r1, #8]
 284              		.loc 1 104 93 discriminator 1 view .LVU96
 285 00fc 9042     		cmp	r0, r2
 286 00fe ECD1     		bne	.L14
 287              	.L15:
 288              	.LBE5:
 105:modules/motor/DJI_motor/DJI_motor.c ****             {
 106:modules/motor/DJI_motor/DJI_motor.c ****                 // LOGERROR("[dji_motor] ID crash. Check in debug mode, add dji_motor_instance to w
 107:modules/motor/DJI_motor/DJI_motor.c ****                 uint16_t can_bus = config->can_handle == &hfdcan1 ? 1 : 2;
 108:modules/motor/DJI_motor/DJI_motor.c ****                 while (1)
 289              		.loc 1 108 17 is_stmt 1 discriminator 2 view .LVU97
 109:modules/motor/DJI_motor/DJI_motor.c ****                     ; // Conflict between IDs 1-4 of 6020 and IDs 5-8 of 2006/3508 (1!5, 2!6, 3!7, 
 290              		.loc 1 109 21 discriminator 2 view .LVU98
 108:modules/motor/DJI_motor/DJI_motor.c ****                     ; // Conflict between IDs 1-4 of 6020 and IDs 5-8 of 2006/3508 (1!5, 2!6, 3!7, 
 291              		.loc 1 108 23 discriminator 2 view .LVU99
 292 0100 FEE7     		b	.L15
 293              	.LVL27:
 294              	.L3:
 110:modules/motor/DJI_motor/DJI_motor.c ****                       // LOGERROR("[dji_motor] id [%d], can_bus [%d]", config->rx_id, can_bus);
 111:modules/motor/DJI_motor/DJI_motor.c ****             }
 112:modules/motor/DJI_motor/DJI_motor.c ****         }
 113:modules/motor/DJI_motor/DJI_motor.c ****         break;
 114:modules/motor/DJI_motor/DJI_motor.c **** 
 115:modules/motor/DJI_motor/DJI_motor.c ****     default: // other motors should not be registered here
 116:modules/motor/DJI_motor/DJI_motor.c ****         while (1)
 295              		.loc 1 116 9 discriminator 1 view .LVU100
 117:modules/motor/DJI_motor/DJI_motor.c ****             ;
 296              		.loc 1 117 13 discriminator 1 view .LVU101
 116:modules/motor/DJI_motor/DJI_motor.c ****             ;
 297              		.loc 1 116 15 discriminator 1 view .LVU102
 298 0102 FEE7     		b	.L3
 299              	.LVL28:
 300              	.L1:
 118:modules/motor/DJI_motor/DJI_motor.c ****         // LOGERROR("[dji_motor]You must not register other motors using the API of DJI motor."); /
 119:modules/motor/DJI_motor/DJI_motor.c ****     }
 120:modules/motor/DJI_motor/DJI_motor.c **** }
 301              		.loc 1 120 1 is_stmt 0 view .LVU103
 302 0104 30BC     		pop	{r4, r5}
 303              	.LCFI1:
 304              		.cfi_restore 5
 305              		.cfi_restore 4
 306              		.cfi_def_cfa_offset 0
 307              	.LVL29:
 308              		.loc 1 120 1 view .LVU104
 309 0106 7047     		bx	lr
 310              	.L27:
 311              		.align	2
 312              	.L26:
 313 0108 00000000 		.word	hfdcan1
 314 010c 00000000 		.word	.LANCHOR0
 315 0110 00000000 		.word	.LANCHOR2
 316 0114 00000000 		.word	.LANCHOR1
 317              		.cfi_endproc
 318              	.LFE185:
 320              		.section	.text.DJIMotorLostCallback,"ax",%progbits
 321              		.align	1
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 9


 322              		.syntax unified
 323              		.thumb
 324              		.thumb_func
 326              	DJIMotorLostCallback:
 327              	.LVL30:
 328              	.LFB187:
 121:modules/motor/DJI_motor/DJI_motor.c **** 
 122:modules/motor/DJI_motor/DJI_motor.c **** /**
 123:modules/motor/DJI_motor/DJI_motor.c ****  * @todo  æ˜¯å¦å¯ä»¥ç®€åŒ–å¤šåœˆè§’åº¦çš„è®¡ç®—ï¼Ÿ
 124:modules/motor/DJI_motor/DJI_motor.c ****  * @brief æ ¹æ®è¿”å›žçš„can_instanceå¯¹åé¦ˆæŠ¥æ–‡è¿›è¡Œè§£æž
 125:modules/motor/DJI_motor/DJI_motor.c ****  *
 126:modules/motor/DJI_motor/DJI_motor.c ****  * @param _instance æ”¶åˆ°æ•°æ®çš„instance,é€šè¿‡éåŽ†ä¸Žæ‰€æœ‰ç”µæœºè¿›è¡Œå¯¹æ¯”ä»¥é€‰æ‹©æ­£ç¡®ç
 127:modules/motor/DJI_motor/DJI_motor.c ****  */
 128:modules/motor/DJI_motor/DJI_motor.c **** static void DecodeDJIMotor(CANInstance *_instance)
 129:modules/motor/DJI_motor/DJI_motor.c **** {
 130:modules/motor/DJI_motor/DJI_motor.c ****     // Here, the ID of the can instance is forcibly converted to get the motor instance address
 131:modules/motor/DJI_motor/DJI_motor.c ****     // _instance pointer points to the ID, which is the address of the corresponding motor instance
 132:modules/motor/DJI_motor/DJI_motor.c ****     // we can access the motor member motor_measure and then get the pointer by taking the address.
 133:modules/motor/DJI_motor/DJI_motor.c ****     uint8_t *rxbuff = _instance->rx_buff;
 134:modules/motor/DJI_motor/DJI_motor.c ****     DJIMotorInstance *motor = (DJIMotorInstance *)_instance->id;
 135:modules/motor/DJI_motor/DJI_motor.c ****     DJI_Motor_Measure_s *measure = &motor->measure; // measure will be used multiple times, save th
 136:modules/motor/DJI_motor/DJI_motor.c **** 
 137:modules/motor/DJI_motor/DJI_motor.c ****     DaemonReload(motor->daemon);
 138:modules/motor/DJI_motor/DJI_motor.c ****     motor->dt = DWT_GetDeltaT(&motor->feed_cnt);
 139:modules/motor/DJI_motor/DJI_motor.c **** 
 140:modules/motor/DJI_motor/DJI_motor.c ****     // Parse data and filter current and speed, the specific format of the motor feedback message i
 141:modules/motor/DJI_motor/DJI_motor.c ****     measure->last_ecd = measure->ecd;
 142:modules/motor/DJI_motor/DJI_motor.c ****     measure->ecd = ((uint16_t)rxbuff[0]) << 8 | rxbuff[1];
 143:modules/motor/DJI_motor/DJI_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 144:modules/motor/DJI_motor/DJI_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 145:modules/motor/DJI_motor/DJI_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 146:modules/motor/DJI_motor/DJI_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 147:modules/motor/DJI_motor/DJI_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 148:modules/motor/DJI_motor/DJI_motor.c ****     measure->temperature = rxbuff[6];
 149:modules/motor/DJI_motor/DJI_motor.c **** 
 150:modules/motor/DJI_motor/DJI_motor.c ****     // Multi-turn angle calculation, assuming the motor rotates less than 180Â° between two samples
 151:modules/motor/DJI_motor/DJI_motor.c ****     if (measure->ecd - measure->last_ecd > 4096)
 152:modules/motor/DJI_motor/DJI_motor.c ****         measure->total_round--;
 153:modules/motor/DJI_motor/DJI_motor.c ****     else if (measure->ecd - measure->last_ecd < -4096)
 154:modules/motor/DJI_motor/DJI_motor.c ****         measure->total_round++;
 155:modules/motor/DJI_motor/DJI_motor.c ****     measure->total_angle = measure->total_round * 360 + measure->angle_single_round;
 156:modules/motor/DJI_motor/DJI_motor.c **** }
 157:modules/motor/DJI_motor/DJI_motor.c **** 
 158:modules/motor/DJI_motor/DJI_motor.c **** static void DJIMotorLostCallback(void *motor_ptr)
 159:modules/motor/DJI_motor/DJI_motor.c **** {
 329              		.loc 1 159 1 is_stmt 1 view -0
 330              		.cfi_startproc
 331              		@ args = 0, pretend = 0, frame = 0
 332              		@ frame_needed = 0, uses_anonymous_args = 0
 333              		@ link register save eliminated.
 160:modules/motor/DJI_motor/DJI_motor.c ****     DJIMotorInstance *motor = (DJIMotorInstance *)motor_ptr;
 334              		.loc 1 160 5 view .LVU106
 161:modules/motor/DJI_motor/DJI_motor.c ****     uint16_t can_bus = motor->motor_can_instance->can_handle == &hfdcan1 ? 1 : 2;
 335              		.loc 1 161 5 view .LVU107
 162:modules/motor/DJI_motor/DJI_motor.c ****     // LOGWARNING("[dji_motor] Motor lost, can bus [%d], id [%d]", can_bus, motor->motor_can_instan
 163:modules/motor/DJI_motor/DJI_motor.c **** }
 336              		.loc 1 163 1 is_stmt 0 view .LVU108
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 10


 337 0000 7047     		bx	lr
 338              		.cfi_endproc
 339              	.LFE187:
 341              		.section	.text.DecodeDJIMotor,"ax",%progbits
 342              		.align	1
 343              		.syntax unified
 344              		.thumb
 345              		.thumb_func
 347              	DecodeDJIMotor:
 348              	.LVL31:
 349              	.LFB186:
 129:modules/motor/DJI_motor/DJI_motor.c ****     // Here, the ID of the can instance is forcibly converted to get the motor instance address
 350              		.loc 1 129 1 is_stmt 1 view -0
 351              		.cfi_startproc
 352              		@ args = 0, pretend = 0, frame = 0
 353              		@ frame_needed = 0, uses_anonymous_args = 0
 129:modules/motor/DJI_motor/DJI_motor.c ****     // Here, the ID of the can instance is forcibly converted to get the motor instance address
 354              		.loc 1 129 1 is_stmt 0 view .LVU110
 355 0000 38B5     		push	{r3, r4, r5, lr}
 356              	.LCFI2:
 357              		.cfi_def_cfa_offset 16
 358              		.cfi_offset 3, -16
 359              		.cfi_offset 4, -12
 360              		.cfi_offset 5, -8
 361              		.cfi_offset 14, -4
 362 0002 0546     		mov	r5, r0
 133:modules/motor/DJI_motor/DJI_motor.c ****     DJIMotorInstance *motor = (DJIMotorInstance *)_instance->id;
 363              		.loc 1 133 5 is_stmt 1 view .LVU111
 364              	.LVL32:
 134:modules/motor/DJI_motor/DJI_motor.c ****     DJI_Motor_Measure_s *measure = &motor->measure; // measure will be used multiple times, save th
 365              		.loc 1 134 5 view .LVU112
 134:modules/motor/DJI_motor/DJI_motor.c ****     DJI_Motor_Measure_s *measure = &motor->measure; // measure will be used multiple times, save th
 366              		.loc 1 134 23 is_stmt 0 view .LVU113
 367 0004 D0F84940 		ldr	r4, [r0, #73]	@ unaligned
 368              	.LVL33:
 135:modules/motor/DJI_motor/DJI_motor.c **** 
 369              		.loc 1 135 5 is_stmt 1 view .LVU114
 137:modules/motor/DJI_motor/DJI_motor.c ****     motor->dt = DWT_GetDeltaT(&motor->feed_cnt);
 370              		.loc 1 137 5 view .LVU115
 371 0008 D4F8A801 		ldr	r0, [r4, #424]
 372              	.LVL34:
 137:modules/motor/DJI_motor/DJI_motor.c ****     motor->dt = DWT_GetDeltaT(&motor->feed_cnt);
 373              		.loc 1 137 5 is_stmt 0 view .LVU116
 374 000c FFF7FEFF 		bl	DaemonReload
 375              	.LVL35:
 138:modules/motor/DJI_motor/DJI_motor.c **** 
 376              		.loc 1 138 5 is_stmt 1 view .LVU117
 138:modules/motor/DJI_motor/DJI_motor.c **** 
 377              		.loc 1 138 17 is_stmt 0 view .LVU118
 378 0010 04F5D670 		add	r0, r4, #428
 379 0014 FFF7FEFF 		bl	DWT_GetDeltaT
 380              	.LVL36:
 138:modules/motor/DJI_motor/DJI_motor.c **** 
 381              		.loc 1 138 15 view .LVU119
 382 0018 84ED6C0A 		vstr.32	s0, [r4, #432]
 141:modules/motor/DJI_motor/DJI_motor.c ****     measure->ecd = ((uint16_t)rxbuff[0]) << 8 | rxbuff[1];
 383              		.loc 1 141 5 is_stmt 1 view .LVU120
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 11


 141:modules/motor/DJI_motor/DJI_motor.c ****     measure->ecd = ((uint16_t)rxbuff[0]) << 8 | rxbuff[1];
 384              		.loc 1 141 32 is_stmt 0 view .LVU121
 385 001c 6188     		ldrh	r1, [r4, #2]
 141:modules/motor/DJI_motor/DJI_motor.c ****     measure->ecd = ((uint16_t)rxbuff[0]) << 8 | rxbuff[1];
 386              		.loc 1 141 23 view .LVU122
 387 001e 2180     		strh	r1, [r4]	@ movhi
 142:modules/motor/DJI_motor/DJI_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 388              		.loc 1 142 5 is_stmt 1 view .LVU123
 142:modules/motor/DJI_motor/DJI_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 389              		.loc 1 142 37 is_stmt 0 view .LVU124
 390 0020 95F83830 		ldrb	r3, [r5, #56]	@ zero_extendqisi2
 142:modules/motor/DJI_motor/DJI_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 391              		.loc 1 142 55 view .LVU125
 392 0024 95F83920 		ldrb	r2, [r5, #57]	@ zero_extendqisi2
 142:modules/motor/DJI_motor/DJI_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 393              		.loc 1 142 47 view .LVU126
 394 0028 42EA0322 		orr	r2, r2, r3, lsl #8
 142:modules/motor/DJI_motor/DJI_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 395              		.loc 1 142 18 view .LVU127
 396 002c 6280     		strh	r2, [r4, #2]	@ movhi
 143:modules/motor/DJI_motor/DJI_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 397              		.loc 1 143 5 is_stmt 1 view .LVU128
 143:modules/motor/DJI_motor/DJI_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 398              		.loc 1 143 56 is_stmt 0 view .LVU129
 399 002e 07EE902A 		vmov	s15, r2	@ int
 400 0032 F8EE677A 		vcvt.f32.u32	s15, s15
 143:modules/motor/DJI_motor/DJI_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 401              		.loc 1 143 54 view .LVU130
 402 0036 DFED2F6A 		vldr.32	s13, .L33
 403 003a 67EEA66A 		vmul.f32	s13, s15, s13
 143:modules/motor/DJI_motor/DJI_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 404              		.loc 1 143 33 view .LVU131
 405 003e C4ED016A 		vstr.32	s13, [r4, #4]
 144:modules/motor/DJI_motor/DJI_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 406              		.loc 1 144 5 is_stmt 1 view .LVU132
 144:modules/motor/DJI_motor/DJI_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 407              		.loc 1 144 62 is_stmt 0 view .LVU133
 408 0042 D4ED027A 		vldr.32	s15, [r4, #8]
 144:modules/motor/DJI_motor/DJI_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 409              		.loc 1 144 53 view .LVU134
 410 0046 9FED2C7A 		vldr.32	s14, .L33+4
 411 004a 27EE877A 		vmul.f32	s14, s15, s14
 145:modules/motor/DJI_motor/DJI_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 412              		.loc 1 145 92 view .LVU135
 413 004e 95F83A00 		ldrb	r0, [r5, #58]	@ zero_extendqisi2
 145:modules/motor/DJI_motor/DJI_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 414              		.loc 1 145 109 view .LVU136
 415 0052 95F83B30 		ldrb	r3, [r5, #59]	@ zero_extendqisi2
 145:modules/motor/DJI_motor/DJI_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 416              		.loc 1 145 76 view .LVU137
 417 0056 43EA0023 		orr	r3, r3, r0, lsl #8
 418 005a 1BB2     		sxth	r3, r3
 419 005c 07EE903A 		vmov	s15, r3	@ int
 145:modules/motor/DJI_motor/DJI_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 420              		.loc 1 145 68 view .LVU138
 421 0060 F8EEE77A 		vcvt.f32.s32	s15, s15
 145:modules/motor/DJI_motor/DJI_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 12


 422              		.loc 1 145 66 view .LVU139
 423 0064 9FED256A 		vldr.32	s12, .L33+8
 424 0068 67EE867A 		vmul.f32	s15, s15, s12
 144:modules/motor/DJI_motor/DJI_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 425              		.loc 1 144 74 view .LVU140
 426 006c 77EE277A 		vadd.f32	s15, s14, s15
 144:modules/motor/DJI_motor/DJI_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 427              		.loc 1 144 24 view .LVU141
 428 0070 C4ED027A 		vstr.32	s15, [r4, #8]
 146:modules/motor/DJI_motor/DJI_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 429              		.loc 1 146 5 is_stmt 1 view .LVU142
 146:modules/motor/DJI_motor/DJI_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 430              		.loc 1 146 67 is_stmt 0 view .LVU143
 431 0074 B4F90C30 		ldrsh	r3, [r4, #12]
 432 0078 07EE903A 		vmov	s15, r3	@ int
 146:modules/motor/DJI_motor/DJI_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 433              		.loc 1 146 58 view .LVU144
 434 007c F8EEE77A 		vcvt.f32.s32	s15, s15
 435 0080 9FED1F7A 		vldr.32	s14, .L33+12
 436 0084 27EE877A 		vmul.f32	s14, s15, s14
 147:modules/motor/DJI_motor/DJI_motor.c ****     measure->temperature = rxbuff[6];
 437              		.loc 1 147 75 view .LVU145
 438 0088 95F83C00 		ldrb	r0, [r5, #60]	@ zero_extendqisi2
 147:modules/motor/DJI_motor/DJI_motor.c ****     measure->temperature = rxbuff[6];
 439              		.loc 1 147 92 view .LVU146
 440 008c 95F83D30 		ldrb	r3, [r5, #61]	@ zero_extendqisi2
 147:modules/motor/DJI_motor/DJI_motor.c ****     measure->temperature = rxbuff[6];
 441              		.loc 1 147 59 view .LVU147
 442 0090 43EA0023 		orr	r3, r3, r0, lsl #8
 443 0094 1BB2     		sxth	r3, r3
 444 0096 07EE903A 		vmov	s15, r3	@ int
 147:modules/motor/DJI_motor/DJI_motor.c ****     measure->temperature = rxbuff[6];
 445              		.loc 1 147 51 view .LVU148
 446 009a F8EEE77A 		vcvt.f32.s32	s15, s15
 147:modules/motor/DJI_motor/DJI_motor.c ****     measure->temperature = rxbuff[6];
 447              		.loc 1 147 49 view .LVU149
 448 009e 9FED196A 		vldr.32	s12, .L33+16
 449 00a2 67EE867A 		vmul.f32	s15, s15, s12
 146:modules/motor/DJI_motor/DJI_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 450              		.loc 1 146 82 view .LVU150
 451 00a6 77EE277A 		vadd.f32	s15, s14, s15
 146:modules/motor/DJI_motor/DJI_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 452              		.loc 1 146 27 view .LVU151
 453 00aa FDEEE77A 		vcvt.s32.f32	s15, s15
 454 00ae 17EE903A 		vmov	r3, s15	@ int
 455 00b2 A381     		strh	r3, [r4, #12]	@ movhi
 148:modules/motor/DJI_motor/DJI_motor.c **** 
 456              		.loc 1 148 5 is_stmt 1 view .LVU152
 148:modules/motor/DJI_motor/DJI_motor.c **** 
 457              		.loc 1 148 26 is_stmt 0 view .LVU153
 458 00b4 95F83E30 		ldrb	r3, [r5, #62]	@ zero_extendqisi2
 459 00b8 A373     		strb	r3, [r4, #14]
 151:modules/motor/DJI_motor/DJI_motor.c ****         measure->total_round--;
 460              		.loc 1 151 5 is_stmt 1 view .LVU154
 151:modules/motor/DJI_motor/DJI_motor.c ****         measure->total_round--;
 461              		.loc 1 151 22 is_stmt 0 view .LVU155
 462 00ba 521A     		subs	r2, r2, r1
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 13


 151:modules/motor/DJI_motor/DJI_motor.c ****         measure->total_round--;
 463              		.loc 1 151 8 view .LVU156
 464 00bc B2F5805F 		cmp	r2, #4096
 465 00c0 10DD     		ble	.L30
 152:modules/motor/DJI_motor/DJI_motor.c ****     else if (measure->ecd - measure->last_ecd < -4096)
 466              		.loc 1 152 9 is_stmt 1 view .LVU157
 152:modules/motor/DJI_motor/DJI_motor.c ****     else if (measure->ecd - measure->last_ecd < -4096)
 467              		.loc 1 152 16 is_stmt 0 view .LVU158
 468 00c2 6369     		ldr	r3, [r4, #20]
 152:modules/motor/DJI_motor/DJI_motor.c ****     else if (measure->ecd - measure->last_ecd < -4096)
 469              		.loc 1 152 29 view .LVU159
 470 00c4 013B     		subs	r3, r3, #1
 471 00c6 6361     		str	r3, [r4, #20]
 472              	.L31:
 155:modules/motor/DJI_motor/DJI_motor.c **** }
 473              		.loc 1 155 5 is_stmt 1 view .LVU160
 155:modules/motor/DJI_motor/DJI_motor.c **** }
 474              		.loc 1 155 35 is_stmt 0 view .LVU161
 475 00c8 6369     		ldr	r3, [r4, #20]
 155:modules/motor/DJI_motor/DJI_motor.c **** }
 476              		.loc 1 155 49 view .LVU162
 477 00ca 4FF4B472 		mov	r2, #360
 478 00ce 02FB03F3 		mul	r3, r2, r3
 479 00d2 07EE903A 		vmov	s15, r3	@ int
 155:modules/motor/DJI_motor/DJI_motor.c **** }
 480              		.loc 1 155 55 view .LVU163
 481 00d6 F8EEE77A 		vcvt.f32.s32	s15, s15
 482 00da 77EEA67A 		vadd.f32	s15, s15, s13
 155:modules/motor/DJI_motor/DJI_motor.c **** }
 483              		.loc 1 155 26 view .LVU164
 484 00de C4ED047A 		vstr.32	s15, [r4, #16]
 156:modules/motor/DJI_motor/DJI_motor.c **** 
 485              		.loc 1 156 1 view .LVU165
 486 00e2 38BD     		pop	{r3, r4, r5, pc}
 487              	.LVL37:
 488              	.L30:
 153:modules/motor/DJI_motor/DJI_motor.c ****         measure->total_round++;
 489              		.loc 1 153 10 is_stmt 1 view .LVU166
 153:modules/motor/DJI_motor/DJI_motor.c ****         measure->total_round++;
 490              		.loc 1 153 13 is_stmt 0 view .LVU167
 491 00e4 12F5805F 		cmn	r2, #4096
 492 00e8 EEDA     		bge	.L31
 154:modules/motor/DJI_motor/DJI_motor.c ****     measure->total_angle = measure->total_round * 360 + measure->angle_single_round;
 493              		.loc 1 154 9 is_stmt 1 view .LVU168
 154:modules/motor/DJI_motor/DJI_motor.c ****     measure->total_angle = measure->total_round * 360 + measure->angle_single_round;
 494              		.loc 1 154 16 is_stmt 0 view .LVU169
 495 00ea 6369     		ldr	r3, [r4, #20]
 154:modules/motor/DJI_motor/DJI_motor.c ****     measure->total_angle = measure->total_round * 360 + measure->angle_single_round;
 496              		.loc 1 154 29 view .LVU170
 497 00ec 0133     		adds	r3, r3, #1
 498 00ee 6361     		str	r3, [r4, #20]
 499 00f0 EAE7     		b	.L31
 500              	.L34:
 501 00f2 00BF     		.align	2
 502              	.L33:
 503 00f4 ACFF333D 		.word	1026817964
 504 00f8 9899193E 		.word	1041865112
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 14


 505 00fc 3433A340 		.word	1084437300
 506 0100 D0CCCC3D 		.word	1036831952
 507 0104 6666663F 		.word	1063675494
 508              		.cfi_endproc
 509              	.LFE186:
 511              		.section	.text.DJIMotorInit,"ax",%progbits
 512              		.align	1
 513              		.global	DJIMotorInit
 514              		.syntax unified
 515              		.thumb
 516              		.thumb_func
 518              	DJIMotorInit:
 519              	.LVL38:
 520              	.LFB188:
 164:modules/motor/DJI_motor/DJI_motor.c **** 
 165:modules/motor/DJI_motor/DJI_motor.c **** // ç”µæœºåˆå§‹åŒ–,è¿”å›žä¸€ä¸ªç”µæœºå®žä¾‹
 166:modules/motor/DJI_motor/DJI_motor.c **** DJIMotorInstance *DJIMotorInit(Motor_Init_Config_s *config)
 167:modules/motor/DJI_motor/DJI_motor.c **** {
 521              		.loc 1 167 1 is_stmt 1 view -0
 522              		.cfi_startproc
 523              		@ args = 0, pretend = 0, frame = 16
 524              		@ frame_needed = 0, uses_anonymous_args = 0
 525              		.loc 1 167 1 is_stmt 0 view .LVU172
 526 0000 70B5     		push	{r4, r5, r6, lr}
 527              	.LCFI3:
 528              		.cfi_def_cfa_offset 16
 529              		.cfi_offset 4, -16
 530              		.cfi_offset 5, -12
 531              		.cfi_offset 6, -8
 532              		.cfi_offset 14, -4
 533 0002 84B0     		sub	sp, sp, #16
 534              	.LCFI4:
 535              		.cfi_def_cfa_offset 32
 536 0004 0546     		mov	r5, r0
 168:modules/motor/DJI_motor/DJI_motor.c ****     DJIMotorInstance *instance = (DJIMotorInstance *)malloc(sizeof(DJIMotorInstance));
 537              		.loc 1 168 5 is_stmt 1 view .LVU173
 538              		.loc 1 168 54 is_stmt 0 view .LVU174
 539 0006 4FF4DC70 		mov	r0, #440
 540              	.LVL39:
 541              		.loc 1 168 54 view .LVU175
 542 000a FFF7FEFF 		bl	malloc
 543              	.LVL40:
 544 000e 0446     		mov	r4, r0
 545              	.LVL41:
 169:modules/motor/DJI_motor/DJI_motor.c ****     memset(instance, 0, sizeof(DJIMotorInstance));
 546              		.loc 1 169 5 is_stmt 1 view .LVU176
 547 0010 4FF4DC72 		mov	r2, #440
 548 0014 0021     		movs	r1, #0
 549 0016 FFF7FEFF 		bl	memset
 550              	.LVL42:
 170:modules/motor/DJI_motor/DJI_motor.c **** 
 171:modules/motor/DJI_motor/DJI_motor.c ****     // motor basic setting ç”µæœºåŸºæœ¬è®¾ç½®
 172:modules/motor/DJI_motor/DJI_motor.c ****     instance->motor_type = config->motor_type;                         // 6020 or 2006 or 3508
 551              		.loc 1 172 5 view .LVU177
 552              		.loc 1 172 34 is_stmt 0 view .LVU178
 553 001a 95F89B30 		ldrb	r3, [r5, #155]	@ zero_extendqisi2
 554              		.loc 1 172 26 view .LVU179
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 15


 555 001e 84F8A631 		strb	r3, [r4, #422]
 173:modules/motor/DJI_motor/DJI_motor.c ****     instance->motor_settings = config->controller_setting_init_config; // æ­£åè½¬,é—­çŽ¯ç±»åž‹ç­‰
 556              		.loc 1 173 5 is_stmt 1 view .LVU180
 557              		.loc 1 173 30 is_stmt 0 view .LVU181
 558 0022 05F19403 		add	r3, r5, #148
 559 0026 93E80300 		ldm	r3, {r0, r1}
 560 002a A061     		str	r0, [r4, #24]
 561 002c A183     		strh	r1, [r4, #28]	@ movhi
 562 002e 090C     		lsrs	r1, r1, #16
 563 0030 A177     		strb	r1, [r4, #30]
 174:modules/motor/DJI_motor/DJI_motor.c **** 
 175:modules/motor/DJI_motor/DJI_motor.c ****     // motor controller init ç”µæœºæŽ§åˆ¶å™¨åˆå§‹åŒ–
 176:modules/motor/DJI_motor/DJI_motor.c ****     PIDInit(&instance->motor_controller.current_PID, &config->controller_param_init_config.current_
 564              		.loc 1 176 5 is_stmt 1 view .LVU182
 565 0032 05F11001 		add	r1, r5, #16
 566 0036 04F13000 		add	r0, r4, #48
 567 003a FFF7FEFF 		bl	PIDInit
 568              	.LVL43:
 177:modules/motor/DJI_motor/DJI_motor.c ****     PIDInit(&instance->motor_controller.speed_PID, &config->controller_param_init_config.speed_PID)
 569              		.loc 1 177 5 view .LVU183
 570 003e 05F13C01 		add	r1, r5, #60
 571 0042 04F1A800 		add	r0, r4, #168
 572 0046 FFF7FEFF 		bl	PIDInit
 573              	.LVL44:
 178:modules/motor/DJI_motor/DJI_motor.c ****     PIDInit(&instance->motor_controller.angle_PID, &config->controller_param_init_config.angle_PID)
 574              		.loc 1 178 5 view .LVU184
 575 004a 05F16801 		add	r1, r5, #104
 576 004e 04F59070 		add	r0, r4, #288
 577 0052 FFF7FEFF 		bl	PIDInit
 578              	.LVL45:
 179:modules/motor/DJI_motor/DJI_motor.c ****     instance->motor_controller.other_angle_feedback_ptr = config->controller_param_init_config.othe
 579              		.loc 1 179 5 view .LVU185
 580              		.loc 1 179 95 is_stmt 0 view .LVU186
 581 0056 2B68     		ldr	r3, [r5]
 582              		.loc 1 179 57 view .LVU187
 583 0058 2362     		str	r3, [r4, #32]
 180:modules/motor/DJI_motor/DJI_motor.c ****     instance->motor_controller.other_speed_feedback_ptr = config->controller_param_init_config.othe
 584              		.loc 1 180 5 is_stmt 1 view .LVU188
 585              		.loc 1 180 95 is_stmt 0 view .LVU189
 586 005a 6B68     		ldr	r3, [r5, #4]
 587              		.loc 1 180 57 view .LVU190
 588 005c 6362     		str	r3, [r4, #36]
 181:modules/motor/DJI_motor/DJI_motor.c ****     instance->motor_controller.current_feedforward_ptr = config->controller_param_init_config.curre
 589              		.loc 1 181 5 is_stmt 1 view .LVU191
 590              		.loc 1 181 94 is_stmt 0 view .LVU192
 591 005e EB68     		ldr	r3, [r5, #12]
 592              		.loc 1 181 56 view .LVU193
 593 0060 E362     		str	r3, [r4, #44]
 182:modules/motor/DJI_motor/DJI_motor.c ****     instance->motor_controller.speed_feedforward_ptr = config->controller_param_init_config.speed_f
 594              		.loc 1 182 5 is_stmt 1 view .LVU194
 595              		.loc 1 182 92 is_stmt 0 view .LVU195
 596 0062 AB68     		ldr	r3, [r5, #8]
 597              		.loc 1 182 54 view .LVU196
 598 0064 A362     		str	r3, [r4, #40]
 183:modules/motor/DJI_motor/DJI_motor.c ****     // åŽç»­å¢žåŠ ç”µæœºå‰é¦ˆæŽ§åˆ¶å™¨(é€Ÿåº¦å’Œç”µæµ)
 184:modules/motor/DJI_motor/DJI_motor.c **** 
 185:modules/motor/DJI_motor/DJI_motor.c ****     // ç”µæœºåˆ†ç»„,å› ä¸ºè‡³å¤š4ä¸ªç”µæœºå¯ä»¥å…±ç”¨ä¸€å¸§CANæŽ§åˆ¶æŠ¥æ–‡
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 16


 186:modules/motor/DJI_motor/DJI_motor.c ****     MotorSenderGrouping(instance, &config->can_init_config);
 599              		.loc 1 186 5 is_stmt 1 view .LVU197
 600 0066 05F19C06 		add	r6, r5, #156
 601 006a 3146     		mov	r1, r6
 602 006c 2046     		mov	r0, r4
 603 006e FFF7FEFF 		bl	MotorSenderGrouping
 604              	.LVL46:
 187:modules/motor/DJI_motor/DJI_motor.c **** 
 188:modules/motor/DJI_motor/DJI_motor.c ****     // æ³¨å†Œç”µæœºåˆ°CANæ€»çº¿
 189:modules/motor/DJI_motor/DJI_motor.c ****     config->can_init_config.can_module_callback = DecodeDJIMotor; // set callback
 605              		.loc 1 189 5 view .LVU198
 606              		.loc 1 189 49 is_stmt 0 view .LVU199
 607 0072 0F4B     		ldr	r3, .L37
 608 0074 C5F8A830 		str	r3, [r5, #168]
 190:modules/motor/DJI_motor/DJI_motor.c ****     config->can_init_config.id = instance;                        // set id,eq to address(it is ide
 609              		.loc 1 190 5 is_stmt 1 view .LVU200
 610              		.loc 1 190 32 is_stmt 0 view .LVU201
 611 0078 C5F8AC40 		str	r4, [r5, #172]
 191:modules/motor/DJI_motor/DJI_motor.c ****     instance->motor_can_instance = CANRegister(&config->can_init_config);
 612              		.loc 1 191 5 is_stmt 1 view .LVU202
 613              		.loc 1 191 36 is_stmt 0 view .LVU203
 614 007c 3046     		mov	r0, r6
 615 007e FFF7FEFF 		bl	CANRegister
 616              	.LVL47:
 617              		.loc 1 191 34 view .LVU204
 618 0082 C4F8A001 		str	r0, [r4, #416]
 192:modules/motor/DJI_motor/DJI_motor.c **** 
 193:modules/motor/DJI_motor/DJI_motor.c ****     // æ³¨å†Œå®ˆæŠ¤çº¿ç¨‹
 194:modules/motor/DJI_motor/DJI_motor.c ****     Daemon_Init_Config_s daemon_config = {
 619              		.loc 1 194 5 is_stmt 1 view .LVU205
 620              		.loc 1 194 26 is_stmt 0 view .LVU206
 621 0086 0223     		movs	r3, #2
 622 0088 ADF80430 		strh	r3, [sp, #4]	@ movhi
 623 008c 094B     		ldr	r3, .L37+4
 624 008e 0293     		str	r3, [sp, #8]
 625 0090 0394     		str	r4, [sp, #12]
 195:modules/motor/DJI_motor/DJI_motor.c ****         .callback = DJIMotorLostCallback,
 196:modules/motor/DJI_motor/DJI_motor.c ****         .owner_id = instance,
 197:modules/motor/DJI_motor/DJI_motor.c ****         .reload_count = 2, // 20msæœªæ”¶åˆ°æ•°æ®åˆ™ä¸¢å¤±
 198:modules/motor/DJI_motor/DJI_motor.c ****     };
 199:modules/motor/DJI_motor/DJI_motor.c ****     instance->daemon = DaemonRegister(&daemon_config);
 626              		.loc 1 199 5 is_stmt 1 view .LVU207
 627              		.loc 1 199 24 is_stmt 0 view .LVU208
 628 0092 01A8     		add	r0, sp, #4
 629 0094 FFF7FEFF 		bl	DaemonRegister
 630              	.LVL48:
 631              		.loc 1 199 22 view .LVU209
 632 0098 C4F8A801 		str	r0, [r4, #424]
 200:modules/motor/DJI_motor/DJI_motor.c **** 
 201:modules/motor/DJI_motor/DJI_motor.c ****     // (instance);
 202:modules/motor/DJI_motor/DJI_motor.c ****     dji_motor_instance[idx++] = instance;
 633              		.loc 1 202 5 is_stmt 1 view .LVU210
 634              		.loc 1 202 27 is_stmt 0 view .LVU211
 635 009c 064A     		ldr	r2, .L37+8
 636 009e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 637 00a0 591C     		adds	r1, r3, #1
 638 00a2 1170     		strb	r1, [r2]
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 17


 639              		.loc 1 202 31 view .LVU212
 640 00a4 054A     		ldr	r2, .L37+12
 641 00a6 42F82340 		str	r4, [r2, r3, lsl #2]
 203:modules/motor/DJI_motor/DJI_motor.c ****     return instance;
 642              		.loc 1 203 5 is_stmt 1 view .LVU213
 204:modules/motor/DJI_motor/DJI_motor.c **** }
 643              		.loc 1 204 1 is_stmt 0 view .LVU214
 644 00aa 2046     		mov	r0, r4
 645 00ac 04B0     		add	sp, sp, #16
 646              	.LCFI5:
 647              		.cfi_def_cfa_offset 16
 648              		@ sp needed
 649 00ae 70BD     		pop	{r4, r5, r6, pc}
 650              	.LVL49:
 651              	.L38:
 652              		.loc 1 204 1 view .LVU215
 653              		.align	2
 654              	.L37:
 655 00b0 00000000 		.word	DecodeDJIMotor
 656 00b4 00000000 		.word	DJIMotorLostCallback
 657 00b8 00000000 		.word	.LANCHOR2
 658 00bc 00000000 		.word	.LANCHOR1
 659              		.cfi_endproc
 660              	.LFE188:
 662              		.section	.text.DJIMotorChangeFeed,"ax",%progbits
 663              		.align	1
 664              		.global	DJIMotorChangeFeed
 665              		.syntax unified
 666              		.thumb
 667              		.thumb_func
 669              	DJIMotorChangeFeed:
 670              	.LVL50:
 671              	.LFB189:
 205:modules/motor/DJI_motor/DJI_motor.c **** 
 206:modules/motor/DJI_motor/DJI_motor.c **** /* ç”µæµåªèƒ½é€šè¿‡ç”µæœºè‡ªå¸¦ä¼ æ„Ÿå™¨ç›‘æµ‹,åŽç»­è€ƒè™‘åŠ å…¥åŠ›çŸ©ä¼ æ„Ÿå™¨åº”å˜ç‰‡ç­‰ */
 207:modules/motor/DJI_motor/DJI_motor.c **** void DJIMotorChangeFeed(DJIMotorInstance *motor, Closeloop_Type_e loop, Feedback_Source_e type)
 208:modules/motor/DJI_motor/DJI_motor.c **** {
 672              		.loc 1 208 1 is_stmt 1 view -0
 673              		.cfi_startproc
 674              		@ args = 0, pretend = 0, frame = 0
 675              		@ frame_needed = 0, uses_anonymous_args = 0
 676              		@ link register save eliminated.
 209:modules/motor/DJI_motor/DJI_motor.c ****     if (loop == ANGLE_LOOP)
 677              		.loc 1 209 5 view .LVU217
 678              		.loc 1 209 8 is_stmt 0 view .LVU218
 679 0000 0429     		cmp	r1, #4
 680 0002 02D0     		beq	.L42
 210:modules/motor/DJI_motor/DJI_motor.c ****         motor->motor_settings.angle_feedback_source = type;
 211:modules/motor/DJI_motor/DJI_motor.c ****     else if (loop == SPEED_LOOP)
 681              		.loc 1 211 10 is_stmt 1 view .LVU219
 682              		.loc 1 211 13 is_stmt 0 view .LVU220
 683 0004 0229     		cmp	r1, #2
 684 0006 02D0     		beq	.L43
 685              	.L39:
 212:modules/motor/DJI_motor/DJI_motor.c ****         motor->motor_settings.speed_feedback_source = type;
 213:modules/motor/DJI_motor/DJI_motor.c ****     // LOGERROR("[dji_motor] loop type error, check memory access and func param"); // æ£€æŸ¥æ˜¯å¦
 214:modules/motor/DJI_motor/DJI_motor.c **** }
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 18


 686              		.loc 1 214 1 view .LVU221
 687 0008 7047     		bx	lr
 688              	.L42:
 210:modules/motor/DJI_motor/DJI_motor.c ****         motor->motor_settings.angle_feedback_source = type;
 689              		.loc 1 210 9 is_stmt 1 view .LVU222
 210:modules/motor/DJI_motor/DJI_motor.c ****         motor->motor_settings.angle_feedback_source = type;
 690              		.loc 1 210 53 is_stmt 0 view .LVU223
 691 000a 0277     		strb	r2, [r0, #28]
 692 000c 7047     		bx	lr
 693              	.L43:
 212:modules/motor/DJI_motor/DJI_motor.c ****         motor->motor_settings.speed_feedback_source = type;
 694              		.loc 1 212 9 is_stmt 1 view .LVU224
 212:modules/motor/DJI_motor/DJI_motor.c ****         motor->motor_settings.speed_feedback_source = type;
 695              		.loc 1 212 53 is_stmt 0 view .LVU225
 696 000e 4277     		strb	r2, [r0, #29]
 697              		.loc 1 214 1 view .LVU226
 698 0010 FAE7     		b	.L39
 699              		.cfi_endproc
 700              	.LFE189:
 702              		.section	.text.DJIMotorStop,"ax",%progbits
 703              		.align	1
 704              		.global	DJIMotorStop
 705              		.syntax unified
 706              		.thumb
 707              		.thumb_func
 709              	DJIMotorStop:
 710              	.LVL51:
 711              	.LFB190:
 215:modules/motor/DJI_motor/DJI_motor.c **** 
 216:modules/motor/DJI_motor/DJI_motor.c **** void DJIMotorStop(DJIMotorInstance *motor)
 217:modules/motor/DJI_motor/DJI_motor.c **** {
 712              		.loc 1 217 1 is_stmt 1 view -0
 713              		.cfi_startproc
 714              		@ args = 0, pretend = 0, frame = 0
 715              		@ frame_needed = 0, uses_anonymous_args = 0
 716              		@ link register save eliminated.
 218:modules/motor/DJI_motor/DJI_motor.c ****     motor->stop_flag = MOTOR_STOP;
 717              		.loc 1 218 5 view .LVU228
 718              		.loc 1 218 22 is_stmt 0 view .LVU229
 719 0000 0023     		movs	r3, #0
 720 0002 80F8A731 		strb	r3, [r0, #423]
 219:modules/motor/DJI_motor/DJI_motor.c **** }
 721              		.loc 1 219 1 view .LVU230
 722 0006 7047     		bx	lr
 723              		.cfi_endproc
 724              	.LFE190:
 726              		.section	.text.DJIMotorEnable,"ax",%progbits
 727              		.align	1
 728              		.global	DJIMotorEnable
 729              		.syntax unified
 730              		.thumb
 731              		.thumb_func
 733              	DJIMotorEnable:
 734              	.LVL52:
 735              	.LFB191:
 220:modules/motor/DJI_motor/DJI_motor.c **** 
 221:modules/motor/DJI_motor/DJI_motor.c **** void DJIMotorEnable(DJIMotorInstance *motor)
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 19


 222:modules/motor/DJI_motor/DJI_motor.c **** {
 736              		.loc 1 222 1 is_stmt 1 view -0
 737              		.cfi_startproc
 738              		@ args = 0, pretend = 0, frame = 0
 739              		@ frame_needed = 0, uses_anonymous_args = 0
 740              		@ link register save eliminated.
 223:modules/motor/DJI_motor/DJI_motor.c ****     motor->stop_flag = MOTOR_ENALBED;
 741              		.loc 1 223 5 view .LVU232
 742              		.loc 1 223 22 is_stmt 0 view .LVU233
 743 0000 0123     		movs	r3, #1
 744 0002 80F8A731 		strb	r3, [r0, #423]
 224:modules/motor/DJI_motor/DJI_motor.c **** }
 745              		.loc 1 224 1 view .LVU234
 746 0006 7047     		bx	lr
 747              		.cfi_endproc
 748              	.LFE191:
 750              		.section	.text.DJIMotorOuterLoop,"ax",%progbits
 751              		.align	1
 752              		.global	DJIMotorOuterLoop
 753              		.syntax unified
 754              		.thumb
 755              		.thumb_func
 757              	DJIMotorOuterLoop:
 758              	.LVL53:
 759              	.LFB192:
 225:modules/motor/DJI_motor/DJI_motor.c **** 
 226:modules/motor/DJI_motor/DJI_motor.c **** /* ä¿®æ”¹ç”µæœºçš„å®žé™…é—­çŽ¯å¯¹è±¡ */
 227:modules/motor/DJI_motor/DJI_motor.c **** void DJIMotorOuterLoop(DJIMotorInstance *motor, Closeloop_Type_e outer_loop)
 228:modules/motor/DJI_motor/DJI_motor.c **** {
 760              		.loc 1 228 1 is_stmt 1 view -0
 761              		.cfi_startproc
 762              		@ args = 0, pretend = 0, frame = 0
 763              		@ frame_needed = 0, uses_anonymous_args = 0
 764              		@ link register save eliminated.
 229:modules/motor/DJI_motor/DJI_motor.c ****     motor->motor_settings.outer_loop_type = outer_loop;
 765              		.loc 1 229 5 view .LVU236
 766              		.loc 1 229 43 is_stmt 0 view .LVU237
 767 0000 0176     		strb	r1, [r0, #24]
 230:modules/motor/DJI_motor/DJI_motor.c **** }
 768              		.loc 1 230 1 view .LVU238
 769 0002 7047     		bx	lr
 770              		.cfi_endproc
 771              	.LFE192:
 773              		.section	.text.DJIMotorSetRef,"ax",%progbits
 774              		.align	1
 775              		.global	DJIMotorSetRef
 776              		.syntax unified
 777              		.thumb
 778              		.thumb_func
 780              	DJIMotorSetRef:
 781              	.LVL54:
 782              	.LFB193:
 231:modules/motor/DJI_motor/DJI_motor.c **** 
 232:modules/motor/DJI_motor/DJI_motor.c **** // ä¸ºæ‰€æœ‰ç”µæœºå®žä¾‹è®¡ç®—ä¸‰çŽ¯PID,å‘é€æŽ§åˆ¶æŠ¥æ–‡
 233:modules/motor/DJI_motor/DJI_motor.c **** void DJIMotorSetRef(DJIMotorInstance *motor, float ref)
 234:modules/motor/DJI_motor/DJI_motor.c **** {
 783              		.loc 1 234 1 is_stmt 1 view -0
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 20


 784              		.cfi_startproc
 785              		@ args = 0, pretend = 0, frame = 0
 786              		@ frame_needed = 0, uses_anonymous_args = 0
 787              		@ link register save eliminated.
 235:modules/motor/DJI_motor/DJI_motor.c ****     motor->motor_controller.pid_ref = ref;
 788              		.loc 1 235 5 view .LVU240
 789              		.loc 1 235 37 is_stmt 0 view .LVU241
 790 0000 80ED660A 		vstr.32	s0, [r0, #408]
 236:modules/motor/DJI_motor/DJI_motor.c **** }
 791              		.loc 1 236 1 view .LVU242
 792 0004 7047     		bx	lr
 793              		.cfi_endproc
 794              	.LFE193:
 796              		.section	.text.DJIMotorControl,"ax",%progbits
 797              		.align	1
 798              		.global	DJIMotorControl
 799              		.syntax unified
 800              		.thumb
 801              		.thumb_func
 803              	DJIMotorControl:
 804              	.LFB194:
 237:modules/motor/DJI_motor/DJI_motor.c **** 
 238:modules/motor/DJI_motor/DJI_motor.c **** // Calculate three-loop PID for all motor instances and send control messages
 239:modules/motor/DJI_motor/DJI_motor.c **** void DJIMotorControl()
 240:modules/motor/DJI_motor/DJI_motor.c **** {
 805              		.loc 1 240 1 is_stmt 1 view -0
 806              		.cfi_startproc
 807              		@ args = 0, pretend = 0, frame = 0
 808              		@ frame_needed = 0, uses_anonymous_args = 0
 809 0000 70B5     		push	{r4, r5, r6, lr}
 810              	.LCFI6:
 811              		.cfi_def_cfa_offset 16
 812              		.cfi_offset 4, -16
 813              		.cfi_offset 5, -12
 814              		.cfi_offset 6, -8
 815              		.cfi_offset 14, -4
 816 0002 2DED028B 		vpush.64	{d8}
 817              	.LCFI7:
 818              		.cfi_def_cfa_offset 24
 819              		.cfi_offset 80, -24
 820              		.cfi_offset 81, -20
 241:modules/motor/DJI_motor/DJI_motor.c ****     // Save a pointer reference once to reduce memory access overhead and also improve readability
 242:modules/motor/DJI_motor/DJI_motor.c ****     uint8_t group, num; // Motor group number and group internal number
 821              		.loc 1 242 5 view .LVU244
 243:modules/motor/DJI_motor/DJI_motor.c ****     int16_t set;        // Motor control CAN transmission setting value
 822              		.loc 1 243 5 view .LVU245
 244:modules/motor/DJI_motor/DJI_motor.c ****     DJIMotorInstance *motor;
 823              		.loc 1 244 5 view .LVU246
 245:modules/motor/DJI_motor/DJI_motor.c ****     Motor_Control_Setting_s *motor_setting; // Motor control parameters
 824              		.loc 1 245 5 view .LVU247
 246:modules/motor/DJI_motor/DJI_motor.c ****     Motor_Controller_s *motor_controller;   // Motor controller
 825              		.loc 1 246 5 view .LVU248
 247:modules/motor/DJI_motor/DJI_motor.c ****     DJI_Motor_Measure_s *measure;           // Motor measurements
 826              		.loc 1 247 5 view .LVU249
 248:modules/motor/DJI_motor/DJI_motor.c ****     float pid_measure, pid_ref;             // Motor PID measurement and reference values
 827              		.loc 1 248 5 view .LVU250
 249:modules/motor/DJI_motor/DJI_motor.c **** 
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 21


 250:modules/motor/DJI_motor/DJI_motor.c ****     // Traverse all motor instances, calculate cascade PID, and set the transmission message value
 251:modules/motor/DJI_motor/DJI_motor.c ****     for (size_t i = 0; i < idx; ++i)
 828              		.loc 1 251 5 view .LVU251
 829              	.LBB6:
 830              		.loc 1 251 10 view .LVU252
 831              	.LVL55:
 832              		.loc 1 251 17 is_stmt 0 view .LVU253
 833 0006 0025     		movs	r5, #0
 834              		.loc 1 251 5 view .LVU254
 835 0008 58E0     		b	.L49
 836              	.LVL56:
 837              	.L73:
 252:modules/motor/DJI_motor/DJI_motor.c ****     { // Reduce memory access overhead, save pointer references first
 253:modules/motor/DJI_motor/DJI_motor.c ****         motor = dji_motor_instance[i];
 254:modules/motor/DJI_motor/DJI_motor.c ****         motor_setting = &motor->motor_settings;
 255:modules/motor/DJI_motor/DJI_motor.c ****         motor_controller = &motor->motor_controller;
 256:modules/motor/DJI_motor/DJI_motor.c ****         measure = &motor->measure;
 257:modules/motor/DJI_motor/DJI_motor.c ****         pid_ref = motor_controller->pid_ref; // Save reference value to prevent motor_controller->p
 258:modules/motor/DJI_motor/DJI_motor.c ****         if (motor_setting->motor_reverse_flag == MOTOR_DIRECTION_REVERSE)
 259:modules/motor/DJI_motor/DJI_motor.c ****             pid_ref *= -1; // Set reverse
 838              		.loc 1 259 13 is_stmt 1 view .LVU255
 839              		.loc 1 259 21 is_stmt 0 view .LVU256
 840 000a F1EE600A 		vneg.f32	s1, s1
 841              	.LVL57:
 842              		.loc 1 259 21 view .LVU257
 843 000e 61E0     		b	.L50
 844              	.L74:
 260:modules/motor/DJI_motor/DJI_motor.c **** 
 261:modules/motor/DJI_motor/DJI_motor.c ****         // pid_ref will successively act as a carrier for data through enabled closed loops
 262:modules/motor/DJI_motor/DJI_motor.c ****         // Calculate position loop, only when position loop is enabled and the outer closed loop is
 263:modules/motor/DJI_motor/DJI_motor.c ****         if ((motor_setting->close_loop_type & ANGLE_LOOP) && motor_setting->outer_loop_type == ANGL
 264:modules/motor/DJI_motor/DJI_motor.c ****         {
 265:modules/motor/DJI_motor/DJI_motor.c ****             if (motor_setting->angle_feedback_source == OTHER_FEED)
 845              		.loc 1 265 13 is_stmt 1 view .LVU258
 846              		.loc 1 265 30 is_stmt 0 view .LVU259
 847 0010 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 848              		.loc 1 265 16 view .LVU260
 849 0012 012B     		cmp	r3, #1
 850 0014 08D0     		beq	.L67
 266:modules/motor/DJI_motor/DJI_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 267:modules/motor/DJI_motor/DJI_motor.c ****             else
 268:modules/motor/DJI_motor/DJI_motor.c ****                 pid_measure = measure->total_angle; // MOTOR_FEED, closed-loop on total angle to pr
 851              		.loc 1 268 17 is_stmt 1 view .LVU261
 852              		.loc 1 268 29 is_stmt 0 view .LVU262
 853 0016 94ED040A 		vldr.32	s0, [r4, #16]
 854              	.LVL58:
 855              	.L53:
 269:modules/motor/DJI_motor/DJI_motor.c ****             // Update pid_ref to enter the next loop
 270:modules/motor/DJI_motor/DJI_motor.c ****             pid_ref = PIDCalculate(&motor_controller->angle_PID, pid_measure, pid_ref);
 856              		.loc 1 270 13 is_stmt 1 view .LVU263
 857              		.loc 1 270 23 is_stmt 0 view .LVU264
 858 001a 04F59070 		add	r0, r4, #288
 859 001e FFF7FEFF 		bl	PIDCalculate
 860              	.LVL59:
 861              		.loc 1 270 23 view .LVU265
 862 0022 F0EE400A 		vmov.f32	s1, s0
 863              	.LVL60:
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 22


 864              		.loc 1 270 23 view .LVU266
 865 0026 5CE0     		b	.L51
 866              	.LVL61:
 867              	.L67:
 266:modules/motor/DJI_motor/DJI_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 868              		.loc 1 266 17 is_stmt 1 view .LVU267
 266:modules/motor/DJI_motor/DJI_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 869              		.loc 1 266 48 is_stmt 0 view .LVU268
 870 0028 236A     		ldr	r3, [r4, #32]
 266:modules/motor/DJI_motor/DJI_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 871              		.loc 1 266 29 view .LVU269
 872 002a 93ED000A 		vldr.32	s0, [r3]
 873              	.LVL62:
 266:modules/motor/DJI_motor/DJI_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 874              		.loc 1 266 29 view .LVU270
 875 002e F4E7     		b	.L53
 876              	.LVL63:
 877              	.L55:
 271:modules/motor/DJI_motor/DJI_motor.c ****         }
 272:modules/motor/DJI_motor/DJI_motor.c **** 
 273:modules/motor/DJI_motor/DJI_motor.c ****         // Calculate speed loop, (outer closed loop is speed or position) and (speed loop is enable
 274:modules/motor/DJI_motor/DJI_motor.c ****         if ((motor_setting->close_loop_type & SPEED_LOOP) && (motor_setting->outer_loop_type & (ANG
 275:modules/motor/DJI_motor/DJI_motor.c ****         {
 276:modules/motor/DJI_motor/DJI_motor.c ****             if (motor_setting->feedforward_flag & SPEED_FEEDFORWARD)
 277:modules/motor/DJI_motor/DJI_motor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 278:modules/motor/DJI_motor/DJI_motor.c **** 
 279:modules/motor/DJI_motor/DJI_motor.c ****             if (motor_setting->speed_feedback_source == OTHER_FEED)
 878              		.loc 1 279 13 is_stmt 1 view .LVU271
 879              		.loc 1 279 30 is_stmt 0 view .LVU272
 880 0030 637F     		ldrb	r3, [r4, #29]	@ zero_extendqisi2
 881              		.loc 1 279 16 view .LVU273
 882 0032 012B     		cmp	r3, #1
 883 0034 67D0     		beq	.L68
 280:modules/motor/DJI_motor/DJI_motor.c ****                 pid_measure = *motor_controller->other_speed_feedback_ptr;
 281:modules/motor/DJI_motor/DJI_motor.c ****             else // MOTOR_FEED
 282:modules/motor/DJI_motor/DJI_motor.c ****                 pid_measure = measure->speed_aps;
 884              		.loc 1 282 17 is_stmt 1 view .LVU274
 885              		.loc 1 282 29 is_stmt 0 view .LVU275
 886 0036 94ED028A 		vldr.32	s16, [r4, #8]
 887              	.LVL64:
 888              	.L57:
 283:modules/motor/DJI_motor/DJI_motor.c ****             // Update pid_ref to enter the next loop
 284:modules/motor/DJI_motor/DJI_motor.c ****             pid_ref = PIDCalculate(&motor_controller->speed_PID, pid_measure, pid_ref);
 889              		.loc 1 284 13 is_stmt 1 view .LVU276
 890              		.loc 1 284 23 is_stmt 0 view .LVU277
 891 003a B0EE480A 		vmov.f32	s0, s16
 892 003e 04F1A800 		add	r0, r4, #168
 893 0042 FFF7FEFF 		bl	PIDCalculate
 894              	.LVL65:
 895              		.loc 1 284 23 view .LVU278
 896 0046 F0EE400A 		vmov.f32	s1, s0
 897              	.LVL66:
 285:modules/motor/DJI_motor/DJI_motor.c ****             speed_pid = pid_ref;
 898              		.loc 1 285 13 is_stmt 1 view .LVU279
 899              		.loc 1 285 23 is_stmt 0 view .LVU280
 900 004a 504B     		ldr	r3, .L76
 901 004c 83ED000A 		vstr.32	s0, [r3]
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 23


 286:modules/motor/DJI_motor/DJI_motor.c ****             real_s = pid_measure;
 902              		.loc 1 286 13 is_stmt 1 view .LVU281
 903              		.loc 1 286 20 is_stmt 0 view .LVU282
 904 0050 4F4B     		ldr	r3, .L76+4
 905 0052 83ED008A 		vstr.32	s16, [r3]
 287:modules/motor/DJI_motor/DJI_motor.c ****             speed_err = motor_controller->speed_PID.Err;
 906              		.loc 1 287 13 is_stmt 1 view .LVU283
 907              		.loc 1 287 52 is_stmt 0 view .LVU284
 908 0056 D4F8DC20 		ldr	r2, [r4, #220]	@ float
 909              		.loc 1 287 23 view .LVU285
 910 005a 4E4B     		ldr	r3, .L76+8
 911 005c 1A60     		str	r2, [r3]	@ float
 912              	.LVL67:
 913              	.L54:
 288:modules/motor/DJI_motor/DJI_motor.c ****         }
 289:modules/motor/DJI_motor/DJI_motor.c **** 
 290:modules/motor/DJI_motor/DJI_motor.c ****         // Calculate current loop, currently calculated as long as the current loop is enabled, reg
 291:modules/motor/DJI_motor/DJI_motor.c ****         if (motor_setting->feedforward_flag & CURRENT_FEEDFORWARD)
 914              		.loc 1 291 9 is_stmt 1 view .LVU286
 915              		.loc 1 291 26 is_stmt 0 view .LVU287
 916 005e A37F     		ldrb	r3, [r4, #30]	@ zero_extendqisi2
 917              		.loc 1 291 12 view .LVU288
 918 0060 13F0010F 		tst	r3, #1
 919 0064 04D0     		beq	.L58
 292:modules/motor/DJI_motor/DJI_motor.c ****             pid_ref += *motor_controller->current_feedforward_ptr;
 920              		.loc 1 292 13 is_stmt 1 view .LVU289
 921              		.loc 1 292 41 is_stmt 0 view .LVU290
 922 0066 E36A     		ldr	r3, [r4, #44]
 923              		.loc 1 292 24 view .LVU291
 924 0068 D3ED007A 		vldr.32	s15, [r3]
 925              		.loc 1 292 21 view .LVU292
 926 006c 70EEA70A 		vadd.f32	s1, s1, s15
 927              	.LVL68:
 928              	.L58:
 293:modules/motor/DJI_motor/DJI_motor.c ****         if (motor_setting->close_loop_type & CURRENT_LOOP)
 929              		.loc 1 293 9 is_stmt 1 view .LVU293
 930              		.loc 1 293 26 is_stmt 0 view .LVU294
 931 0070 637E     		ldrb	r3, [r4, #25]	@ zero_extendqisi2
 932              		.loc 1 293 12 view .LVU295
 933 0072 13F0010F 		tst	r3, #1
 934 0076 4AD1     		bne	.L69
 935              	.L59:
 294:modules/motor/DJI_motor/DJI_motor.c ****         {
 295:modules/motor/DJI_motor/DJI_motor.c ****             pid_ref = PIDCalculate(&motor_controller->current_PID, measure->real_current, pid_ref);
 296:modules/motor/DJI_motor/DJI_motor.c ****             current_pid = pid_ref;
 297:modules/motor/DJI_motor/DJI_motor.c ****             real_c = measure->real_current;
 298:modules/motor/DJI_motor/DJI_motor.c ****         }
 299:modules/motor/DJI_motor/DJI_motor.c ****         //
 300:modules/motor/DJI_motor/DJI_motor.c ****         if (motor_setting->feedback_reverse_flag == FEEDBACK_DIRECTION_REVERSE)
 936              		.loc 1 300 9 is_stmt 1 view .LVU296
 937              		.loc 1 300 26 is_stmt 0 view .LVU297
 938 0078 E37E     		ldrb	r3, [r4, #27]	@ zero_extendqisi2
 939              		.loc 1 300 12 view .LVU298
 940 007a 012B     		cmp	r3, #1
 941 007c 60D0     		beq	.L70
 942              	.L60:
 301:modules/motor/DJI_motor/DJI_motor.c ****             pid_ref *= -1;
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 24


 302:modules/motor/DJI_motor/DJI_motor.c **** 
 303:modules/motor/DJI_motor/DJI_motor.c ****         // Get the final output
 304:modules/motor/DJI_motor/DJI_motor.c ****         set = (int16_t)pid_ref;
 943              		.loc 1 304 9 is_stmt 1 view .LVU299
 944              		.loc 1 304 13 is_stmt 0 view .LVU300
 945 007e FDEEE07A 		vcvt.s32.f32	s15, s1
 946 0082 17EE903A 		vmov	r3, s15	@ int
 947              	.LVL69:
 305:modules/motor/DJI_motor/DJI_motor.c **** 
 306:modules/motor/DJI_motor/DJI_motor.c ****         // Fill in the sending data by group
 307:modules/motor/DJI_motor/DJI_motor.c ****         group = motor->sender_group;
 948              		.loc 1 307 9 is_stmt 1 view .LVU301
 949              		.loc 1 307 15 is_stmt 0 view .LVU302
 950 0086 94F8A401 		ldrb	r0, [r4, #420]	@ zero_extendqisi2
 951              	.LVL70:
 308:modules/motor/DJI_motor/DJI_motor.c ****         num = motor->message_num;
 952              		.loc 1 308 9 is_stmt 1 view .LVU303
 953              		.loc 1 308 13 is_stmt 0 view .LVU304
 954 008a 94F8A5C1 		ldrb	ip, [r4, #421]	@ zero_extendqisi2
 955              	.LVL71:
 309:modules/motor/DJI_motor/DJI_motor.c ****         sender_assignment[group].tx_buff[2 * num] = (uint8_t)(set >> 8);         // High eight bits
 956              		.loc 1 309 9 is_stmt 1 view .LVU305
 957              		.loc 1 309 44 is_stmt 0 view .LVU306
 958 008e 4FEA4C01 		lsl	r1, ip, #1
 959              		.loc 1 309 53 view .LVU307
 960 0092 C3F30726 		ubfx	r6, r3, #8, #8
 961              		.loc 1 309 51 view .LVU308
 962 0096 404A     		ldr	r2, .L76+12
 963 0098 4FF04D0E 		mov	lr, #77
 964 009c 0EFB0022 		mla	r2, lr, r0, r2
 965 00a0 02EB4C0E 		add	lr, r2, ip, lsl #1
 966 00a4 8EF83060 		strb	r6, [lr, #48]
 310:modules/motor/DJI_motor/DJI_motor.c ****         sender_assignment[group].tx_buff[2 * num + 1] = (uint8_t)(set & 0x00ff); // Low eight bits
 967              		.loc 1 310 9 is_stmt 1 view .LVU309
 968              		.loc 1 310 50 is_stmt 0 view .LVU310
 969 00a8 01F1010E 		add	lr, r1, #1
 970              		.loc 1 310 55 view .LVU311
 971 00ac 7244     		add	r2, r2, lr
 972 00ae 82F83030 		strb	r3, [r2, #48]
 311:modules/motor/DJI_motor/DJI_motor.c **** 
 312:modules/motor/DJI_motor/DJI_motor.c ****         // If the motor is in stop state, directly set the buff to zero
 313:modules/motor/DJI_motor/DJI_motor.c ****         if (motor->stop_flag == MOTOR_STOP)
 973              		.loc 1 313 9 is_stmt 1 view .LVU312
 974              		.loc 1 313 18 is_stmt 0 view .LVU313
 975 00b2 94F8A731 		ldrb	r3, [r4, #423]	@ zero_extendqisi2
 976              	.LVL72:
 977              		.loc 1 313 12 view .LVU314
 978 00b6 002B     		cmp	r3, #0
 979 00b8 45D0     		beq	.L71
 980              	.LVL73:
 981              	.L61:
 251:modules/motor/DJI_motor/DJI_motor.c ****     { // Reduce memory access overhead, save pointer references first
 982              		.loc 1 251 33 is_stmt 1 discriminator 2 view .LVU315
 983 00ba 0135     		adds	r5, r5, #1
 984              	.LVL74:
 985              	.L49:
 251:modules/motor/DJI_motor/DJI_motor.c ****     { // Reduce memory access overhead, save pointer references first
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 25


 986              		.loc 1 251 24 discriminator 1 view .LVU316
 251:modules/motor/DJI_motor/DJI_motor.c ****     { // Reduce memory access overhead, save pointer references first
 987              		.loc 1 251 26 is_stmt 0 discriminator 1 view .LVU317
 988 00bc 374B     		ldr	r3, .L76+16
 989 00be 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 251:modules/motor/DJI_motor/DJI_motor.c ****     { // Reduce memory access overhead, save pointer references first
 990              		.loc 1 251 5 discriminator 1 view .LVU318
 991 00c0 AB42     		cmp	r3, r5
 992 00c2 4ED9     		bls	.L72
 253:modules/motor/DJI_motor/DJI_motor.c ****         motor_setting = &motor->motor_settings;
 993              		.loc 1 253 9 is_stmt 1 view .LVU319
 253:modules/motor/DJI_motor/DJI_motor.c ****         motor_setting = &motor->motor_settings;
 994              		.loc 1 253 15 is_stmt 0 view .LVU320
 995 00c4 364B     		ldr	r3, .L76+20
 996 00c6 53F82540 		ldr	r4, [r3, r5, lsl #2]
 997              	.LVL75:
 254:modules/motor/DJI_motor/DJI_motor.c ****         motor_controller = &motor->motor_controller;
 998              		.loc 1 254 9 is_stmt 1 view .LVU321
 255:modules/motor/DJI_motor/DJI_motor.c ****         measure = &motor->measure;
 999              		.loc 1 255 9 view .LVU322
 256:modules/motor/DJI_motor/DJI_motor.c ****         pid_ref = motor_controller->pid_ref; // Save reference value to prevent motor_controller->p
 1000              		.loc 1 256 9 view .LVU323
 257:modules/motor/DJI_motor/DJI_motor.c ****         if (motor_setting->motor_reverse_flag == MOTOR_DIRECTION_REVERSE)
 1001              		.loc 1 257 9 view .LVU324
 257:modules/motor/DJI_motor/DJI_motor.c ****         if (motor_setting->motor_reverse_flag == MOTOR_DIRECTION_REVERSE)
 1002              		.loc 1 257 17 is_stmt 0 view .LVU325
 1003 00ca D4ED660A 		vldr.32	s1, [r4, #408]
 1004              	.LVL76:
 258:modules/motor/DJI_motor/DJI_motor.c ****             pid_ref *= -1; // Set reverse
 1005              		.loc 1 258 9 is_stmt 1 view .LVU326
 258:modules/motor/DJI_motor/DJI_motor.c ****             pid_ref *= -1; // Set reverse
 1006              		.loc 1 258 26 is_stmt 0 view .LVU327
 1007 00ce A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 258:modules/motor/DJI_motor/DJI_motor.c ****             pid_ref *= -1; // Set reverse
 1008              		.loc 1 258 12 view .LVU328
 1009 00d0 012B     		cmp	r3, #1
 1010 00d2 9AD0     		beq	.L73
 1011              	.L50:
 263:modules/motor/DJI_motor/DJI_motor.c ****         {
 1012              		.loc 1 263 9 is_stmt 1 view .LVU329
 263:modules/motor/DJI_motor/DJI_motor.c ****         {
 1013              		.loc 1 263 27 is_stmt 0 view .LVU330
 1014 00d4 637E     		ldrb	r3, [r4, #25]	@ zero_extendqisi2
 263:modules/motor/DJI_motor/DJI_motor.c ****         {
 1015              		.loc 1 263 12 view .LVU331
 1016 00d6 13F0040F 		tst	r3, #4
 1017 00da 02D0     		beq	.L51
 263:modules/motor/DJI_motor/DJI_motor.c ****         {
 1018              		.loc 1 263 75 discriminator 1 view .LVU332
 1019 00dc 237E     		ldrb	r3, [r4, #24]	@ zero_extendqisi2
 263:modules/motor/DJI_motor/DJI_motor.c ****         {
 1020              		.loc 1 263 59 discriminator 1 view .LVU333
 1021 00de 042B     		cmp	r3, #4
 1022 00e0 96D0     		beq	.L74
 1023              	.L51:
 274:modules/motor/DJI_motor/DJI_motor.c ****         {
 1024              		.loc 1 274 9 is_stmt 1 view .LVU334
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 26


 274:modules/motor/DJI_motor/DJI_motor.c ****         {
 1025              		.loc 1 274 27 is_stmt 0 view .LVU335
 1026 00e2 637E     		ldrb	r3, [r4, #25]	@ zero_extendqisi2
 274:modules/motor/DJI_motor/DJI_motor.c ****         {
 1027              		.loc 1 274 12 view .LVU336
 1028 00e4 13F0020F 		tst	r3, #2
 1029 00e8 B9D0     		beq	.L54
 274:modules/motor/DJI_motor/DJI_motor.c ****         {
 1030              		.loc 1 274 76 discriminator 1 view .LVU337
 1031 00ea 237E     		ldrb	r3, [r4, #24]	@ zero_extendqisi2
 274:modules/motor/DJI_motor/DJI_motor.c ****         {
 1032              		.loc 1 274 59 discriminator 1 view .LVU338
 1033 00ec 13F0060F 		tst	r3, #6
 1034 00f0 B5D0     		beq	.L54
 276:modules/motor/DJI_motor/DJI_motor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 1035              		.loc 1 276 13 is_stmt 1 view .LVU339
 276:modules/motor/DJI_motor/DJI_motor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 1036              		.loc 1 276 30 is_stmt 0 view .LVU340
 1037 00f2 A37F     		ldrb	r3, [r4, #30]	@ zero_extendqisi2
 276:modules/motor/DJI_motor/DJI_motor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 1038              		.loc 1 276 16 view .LVU341
 1039 00f4 13F0020F 		tst	r3, #2
 1040 00f8 9AD0     		beq	.L55
 277:modules/motor/DJI_motor/DJI_motor.c **** 
 1041              		.loc 1 277 17 is_stmt 1 view .LVU342
 277:modules/motor/DJI_motor/DJI_motor.c **** 
 1042              		.loc 1 277 45 is_stmt 0 view .LVU343
 1043 00fa A36A     		ldr	r3, [r4, #40]
 277:modules/motor/DJI_motor/DJI_motor.c **** 
 1044              		.loc 1 277 28 view .LVU344
 1045 00fc D3ED007A 		vldr.32	s15, [r3]
 277:modules/motor/DJI_motor/DJI_motor.c **** 
 1046              		.loc 1 277 25 view .LVU345
 1047 0100 70EEA70A 		vadd.f32	s1, s1, s15
 1048              	.LVL77:
 277:modules/motor/DJI_motor/DJI_motor.c **** 
 1049              		.loc 1 277 25 view .LVU346
 1050 0104 94E7     		b	.L55
 1051              	.L68:
 280:modules/motor/DJI_motor/DJI_motor.c ****             else // MOTOR_FEED
 1052              		.loc 1 280 17 is_stmt 1 view .LVU347
 280:modules/motor/DJI_motor/DJI_motor.c ****             else // MOTOR_FEED
 1053              		.loc 1 280 48 is_stmt 0 view .LVU348
 1054 0106 636A     		ldr	r3, [r4, #36]
 280:modules/motor/DJI_motor/DJI_motor.c ****             else // MOTOR_FEED
 1055              		.loc 1 280 29 view .LVU349
 1056 0108 93ED008A 		vldr.32	s16, [r3]
 1057              	.LVL78:
 280:modules/motor/DJI_motor/DJI_motor.c ****             else // MOTOR_FEED
 1058              		.loc 1 280 29 view .LVU350
 1059 010c 95E7     		b	.L57
 1060              	.LVL79:
 1061              	.L69:
 295:modules/motor/DJI_motor/DJI_motor.c ****             current_pid = pid_ref;
 1062              		.loc 1 295 13 is_stmt 1 view .LVU351
 295:modules/motor/DJI_motor/DJI_motor.c ****             current_pid = pid_ref;
 1063              		.loc 1 295 75 is_stmt 0 view .LVU352
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 27


 1064 010e B4F90C30 		ldrsh	r3, [r4, #12]
 1065 0112 00EE103A 		vmov	s0, r3	@ int
 295:modules/motor/DJI_motor/DJI_motor.c ****             current_pid = pid_ref;
 1066              		.loc 1 295 23 view .LVU353
 1067 0116 B8EEC00A 		vcvt.f32.s32	s0, s0
 1068 011a 04F13000 		add	r0, r4, #48
 1069 011e FFF7FEFF 		bl	PIDCalculate
 1070              	.LVL80:
 295:modules/motor/DJI_motor/DJI_motor.c ****             current_pid = pid_ref;
 1071              		.loc 1 295 23 view .LVU354
 1072 0122 F0EE400A 		vmov.f32	s1, s0
 1073              	.LVL81:
 296:modules/motor/DJI_motor/DJI_motor.c ****             real_c = measure->real_current;
 1074              		.loc 1 296 13 is_stmt 1 view .LVU355
 296:modules/motor/DJI_motor/DJI_motor.c ****             real_c = measure->real_current;
 1075              		.loc 1 296 25 is_stmt 0 view .LVU356
 1076 0126 1F4B     		ldr	r3, .L76+24
 1077 0128 83ED000A 		vstr.32	s0, [r3]
 297:modules/motor/DJI_motor/DJI_motor.c ****         }
 1078              		.loc 1 297 13 is_stmt 1 view .LVU357
 297:modules/motor/DJI_motor/DJI_motor.c ****         }
 1079              		.loc 1 297 29 is_stmt 0 view .LVU358
 1080 012c B4F90C30 		ldrsh	r3, [r4, #12]
 1081 0130 07EE903A 		vmov	s15, r3	@ int
 297:modules/motor/DJI_motor/DJI_motor.c ****         }
 1082              		.loc 1 297 20 view .LVU359
 1083 0134 F8EEE77A 		vcvt.f32.s32	s15, s15
 1084 0138 1B4B     		ldr	r3, .L76+28
 1085 013a C3ED007A 		vstr.32	s15, [r3]
 1086 013e 9BE7     		b	.L59
 1087              	.LVL82:
 1088              	.L70:
 301:modules/motor/DJI_motor/DJI_motor.c **** 
 1089              		.loc 1 301 13 is_stmt 1 view .LVU360
 301:modules/motor/DJI_motor/DJI_motor.c **** 
 1090              		.loc 1 301 21 is_stmt 0 view .LVU361
 1091 0140 F1EE600A 		vneg.f32	s1, s1
 1092              	.LVL83:
 301:modules/motor/DJI_motor/DJI_motor.c **** 
 1093              		.loc 1 301 21 view .LVU362
 1094 0144 9BE7     		b	.L60
 1095              	.LVL84:
 1096              	.L71:
 314:modules/motor/DJI_motor/DJI_motor.c ****             memset(sender_assignment[group].tx_buff + 2 * num, 0, 16u);
 1097              		.loc 1 314 13 is_stmt 1 view .LVU363
 1098              		.loc 1 314 20 is_stmt 0 view .LVU364
 1099 0146 4D23     		movs	r3, #77
 1100 0148 03FB00F0 		mul	r0, r3, r0
 1101              	.LVL85:
 1102              		.loc 1 314 20 view .LVU365
 1103 014c 3030     		adds	r0, r0, #48
 1104 014e 124B     		ldr	r3, .L76+12
 1105 0150 1844     		add	r0, r0, r3
 1106              		.loc 1 314 13 view .LVU366
 1107 0152 0144     		add	r1, r1, r0
 1108 0154 0023     		movs	r3, #0
 1109 0156 40F81C30 		str	r3, [r0, ip, lsl #1]	@ unaligned
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 28


 1110 015a 4B60     		str	r3, [r1, #4]	@ unaligned
 1111 015c 8B60     		str	r3, [r1, #8]	@ unaligned
 1112 015e CB60     		str	r3, [r1, #12]	@ unaligned
 1113 0160 ABE7     		b	.L61
 1114              	.LVL86:
 1115              	.L72:
 1116              		.loc 1 314 13 view .LVU367
 1117              	.LBE6:
 1118              	.LBB7:
 315:modules/motor/DJI_motor/DJI_motor.c ****     }
 316:modules/motor/DJI_motor/DJI_motor.c **** 
 317:modules/motor/DJI_motor/DJI_motor.c ****     // Traverse the flags, check if this frame of message should be sent
 318:modules/motor/DJI_motor/DJI_motor.c ****     for (size_t i = 0; i < 6; ++i)
 1119              		.loc 1 318 17 view .LVU368
 1120 0162 0024     		movs	r4, #0
 1121 0164 00E0     		b	.L63
 1122              	.LVL87:
 1123              	.L64:
 1124              		.loc 1 318 31 is_stmt 1 discriminator 2 view .LVU369
 1125 0166 0134     		adds	r4, r4, #1
 1126              	.LVL88:
 1127              	.L63:
 1128              		.loc 1 318 24 discriminator 1 view .LVU370
 1129              		.loc 1 318 5 is_stmt 0 discriminator 1 view .LVU371
 1130 0168 052C     		cmp	r4, #5
 1131 016a 0CD8     		bhi	.L75
 319:modules/motor/DJI_motor/DJI_motor.c ****     {
 320:modules/motor/DJI_motor/DJI_motor.c ****         if (sender_enable_flag[i])
 1132              		.loc 1 320 9 is_stmt 1 view .LVU372
 1133              		.loc 1 320 31 is_stmt 0 view .LVU373
 1134 016c 0F4B     		ldr	r3, .L76+32
 1135 016e 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 1136              		.loc 1 320 12 view .LVU374
 1137 0170 002B     		cmp	r3, #0
 1138 0172 F8D0     		beq	.L64
 321:modules/motor/DJI_motor/DJI_motor.c ****         {
 322:modules/motor/DJI_motor/DJI_motor.c ****             CANTransmit(&sender_assignment[i], 1);
 1139              		.loc 1 322 13 is_stmt 1 view .LVU375
 1140 0174 B7EE000A 		vmov.f32	s0, #1.0e+0
 1141 0178 074B     		ldr	r3, .L76+12
 1142 017a 4D20     		movs	r0, #77
 1143 017c 00FB0430 		mla	r0, r0, r4, r3
 1144 0180 FFF7FEFF 		bl	CANTransmit
 1145              	.LVL89:
 1146 0184 EFE7     		b	.L64
 1147              	.L75:
 1148              	.LBE7:
 323:modules/motor/DJI_motor/DJI_motor.c ****         }
 324:modules/motor/DJI_motor/DJI_motor.c ****     }
 325:modules/motor/DJI_motor/DJI_motor.c **** }...
 1149              		.loc 1 325 1 is_stmt 0 view .LVU376
 1150 0186 BDEC028B 		vldm	sp!, {d8}
 1151              	.LCFI8:
 1152              		.cfi_restore 80
 1153              		.cfi_restore 81
 1154              		.cfi_def_cfa_offset 16
 1155 018a 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 29


 1156              	.LVL90:
 1157              	.L77:
 1158              		.loc 1 325 1 view .LVU377
 1159              		.align	2
 1160              	.L76:
 1161 018c 00000000 		.word	.LANCHOR3
 1162 0190 00000000 		.word	.LANCHOR4
 1163 0194 00000000 		.word	.LANCHOR5
 1164 0198 00000000 		.word	.LANCHOR8
 1165 019c 00000000 		.word	.LANCHOR2
 1166 01a0 00000000 		.word	.LANCHOR1
 1167 01a4 00000000 		.word	.LANCHOR6
 1168 01a8 00000000 		.word	.LANCHOR7
 1169 01ac 00000000 		.word	.LANCHOR0
 1170              		.cfi_endproc
 1171              	.LFE194:
 1173              		.global	speed_err
 1174              		.global	real_s
 1175              		.global	real_c
 1176              		.global	current_pid
 1177              		.global	speed_pid
 1178              		.section	.bss.current_pid,"aw",%nobits
 1179              		.align	2
 1180              		.set	.LANCHOR6,. + 0
 1183              	current_pid:
 1184 0000 00000000 		.space	4
 1185              		.section	.bss.dji_motor_instance,"aw",%nobits
 1186              		.align	2
 1187              		.set	.LANCHOR1,. + 0
 1190              	dji_motor_instance:
 1191 0000 00000000 		.space	16
 1191      00000000 
 1191      00000000 
 1191      00000000 
 1192              		.section	.bss.idx,"aw",%nobits
 1193              		.set	.LANCHOR2,. + 0
 1196              	idx:
 1197 0000 00       		.space	1
 1198              		.section	.bss.real_c,"aw",%nobits
 1199              		.align	2
 1200              		.set	.LANCHOR7,. + 0
 1203              	real_c:
 1204 0000 00000000 		.space	4
 1205              		.section	.bss.real_s,"aw",%nobits
 1206              		.align	2
 1207              		.set	.LANCHOR4,. + 0
 1210              	real_s:
 1211 0000 00000000 		.space	4
 1212              		.section	.bss.sender_enable_flag,"aw",%nobits
 1213              		.align	2
 1214              		.set	.LANCHOR0,. + 0
 1217              	sender_enable_flag:
 1218 0000 00000000 		.space	6
 1218      0000
 1219              		.section	.bss.speed_err,"aw",%nobits
 1220              		.align	2
 1221              		.set	.LANCHOR5,. + 0
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 30


 1224              	speed_err:
 1225 0000 00000000 		.space	4
 1226              		.section	.bss.speed_pid,"aw",%nobits
 1227              		.align	2
 1228              		.set	.LANCHOR3,. + 0
 1231              	speed_pid:
 1232 0000 00000000 		.space	4
 1233              		.section	.data.sender_assignment,"aw"
 1234              		.align	2
 1235              		.set	.LANCHOR8,. + 0
 1238              	sender_assignment:
 1239 0000 00000000 		.word	hfdcan1
 1240 0004 FF010000 		.word	511
 1241 0008 00000000 		.word	0
 1242 000c 00000000 		.word	0
 1243 0010 08000000 		.word	8
 1244 0014 00000000 		.space	20
 1244      00000000 
 1244      00000000 
 1244      00000000 
 1244      00000000 
 1245 0028 00000000 		.space	8
 1245      00000000 
 1246 0030 0000     		.ascii	"\000\000"
 1247 0032 00000000 		.space	6
 1247      0000
 1248 0038 00000000 		.space	21
 1248      00000000 
 1248      00000000 
 1248      00000000 
 1248      00000000 
 1249 004d 00000000 		.4byte	hfdcan1
 1250 0051 00020000 		.4byte	512
 1251 0055 00000000 		.4byte	0
 1252 0059 00000000 		.4byte	0
 1253 005d 08000000 		.4byte	8
 1254 0061 00000000 		.space	20
 1254      00000000 
 1254      00000000 
 1254      00000000 
 1254      00000000 
 1255 0075 00000000 		.space	8
 1255      00000000 
 1256 007d 0000     		.ascii	"\000\000"
 1257 007f 00000000 		.space	6
 1257      0000
 1258 0085 00000000 		.space	21
 1258      00000000 
 1258      00000000 
 1258      00000000 
 1258      00000000 
 1259 009a 00000000 		.4byte	hfdcan1
 1260 009e FF020000 		.4byte	767
 1261 00a2 00000000 		.4byte	0
 1262 00a6 00000000 		.4byte	0
 1263 00aa 08000000 		.4byte	8
 1264 00ae 00000000 		.space	20
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 31


 1264      00000000 
 1264      00000000 
 1264      00000000 
 1264      00000000 
 1265 00c2 00000000 		.space	8
 1265      00000000 
 1266 00ca 0000     		.ascii	"\000\000"
 1267 00cc 00000000 		.space	6
 1267      0000
 1268 00d2 00000000 		.space	21
 1268      00000000 
 1268      00000000 
 1268      00000000 
 1268      00000000 
 1269 00e7 00000000 		.4byte	hfdcan2
 1270 00eb FF010000 		.4byte	511
 1271 00ef 00000000 		.4byte	0
 1272 00f3 00000000 		.4byte	0
 1273 00f7 08000000 		.4byte	8
 1274 00fb 00000000 		.space	20
 1274      00000000 
 1274      00000000 
 1274      00000000 
 1274      00000000 
 1275 010f 00000000 		.space	8
 1275      00000000 
 1276 0117 0000     		.ascii	"\000\000"
 1277 0119 00000000 		.space	6
 1277      0000
 1278 011f 00000000 		.space	21
 1278      00000000 
 1278      00000000 
 1278      00000000 
 1278      00000000 
 1279 0134 00000000 		.word	hfdcan2
 1280 0138 00020000 		.word	512
 1281 013c 00000000 		.word	0
 1282 0140 00000000 		.word	0
 1283 0144 08000000 		.word	8
 1284 0148 00000000 		.space	20
 1284      00000000 
 1284      00000000 
 1284      00000000 
 1284      00000000 
 1285 015c 00000000 		.space	8
 1285      00000000 
 1286 0164 0000     		.ascii	"\000\000"
 1287 0166 00000000 		.space	6
 1287      0000
 1288 016c 00000000 		.space	21
 1288      00000000 
 1288      00000000 
 1288      00000000 
 1288      00000000 
 1289 0181 00000000 		.4byte	hfdcan2
 1290 0185 FF020000 		.4byte	767
 1291 0189 00000000 		.4byte	0
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 32


 1292 018d 00000000 		.4byte	0
 1293 0191 08000000 		.4byte	8
 1294 0195 00000000 		.space	20
 1294      00000000 
 1294      00000000 
 1294      00000000 
 1294      00000000 
 1295 01a9 00000000 		.space	8
 1295      00000000 
 1296 01b1 0000     		.ascii	"\000\000"
 1297 01b3 00000000 		.space	6
 1297      0000
 1298 01b9 00000000 		.space	21
 1298      00000000 
 1298      00000000 
 1298      00000000 
 1298      00000000 
 1299              		.text
 1300              	.Letext0:
 1301              		.file 2 "d:\\rm\\arm-gnu-toolchian\\arm-none-eabi\\include\\machine\\_default_types.h"
 1302              		.file 3 "d:\\rm\\arm-gnu-toolchian\\arm-none-eabi\\include\\sys\\_stdint.h"
 1303              		.file 4 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 1304              		.file 5 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h7xx.h"
 1305              		.file 6 "d:\\rm\\arm-gnu-toolchian\\lib\\gcc\\arm-none-eabi\\10.3.1\\include\\stddef.h"
 1306              		.file 7 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 1307              		.file 8 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_fdcan.h"
 1308              		.file 9 "Core/Inc/fdcan.h"
 1309              		.file 10 "bsp/can/bsp_can.h"
 1310              		.file 11 "modules/algorithm/controller.h"
 1311              		.file 12 "modules/motor/motor_def.h"
 1312              		.file 13 "modules/daemon/daemon.h"
 1313              		.file 14 "modules/motor/DJI_motor/dji_motor.h"
 1314              		.file 15 "d:\\rm\\arm-gnu-toolchian\\arm-none-eabi\\include\\stdlib.h"
 1315              		.file 16 "bsp/dwt/bsp_dwt.h"
 1316              		.file 17 "<built-in>"
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 33


DEFINED SYMBOLS
                            *ABS*:00000000 DJI_motor.c
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:19     .text.MotorSenderGrouping:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:24     .text.MotorSenderGrouping:00000000 MotorSenderGrouping
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:313    .text.MotorSenderGrouping:00000108 $d
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:321    .text.DJIMotorLostCallback:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:326    .text.DJIMotorLostCallback:00000000 DJIMotorLostCallback
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:342    .text.DecodeDJIMotor:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:347    .text.DecodeDJIMotor:00000000 DecodeDJIMotor
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:503    .text.DecodeDJIMotor:000000f4 $d
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:512    .text.DJIMotorInit:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:518    .text.DJIMotorInit:00000000 DJIMotorInit
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:655    .text.DJIMotorInit:000000b0 $d
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:663    .text.DJIMotorChangeFeed:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:669    .text.DJIMotorChangeFeed:00000000 DJIMotorChangeFeed
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:703    .text.DJIMotorStop:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:709    .text.DJIMotorStop:00000000 DJIMotorStop
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:727    .text.DJIMotorEnable:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:733    .text.DJIMotorEnable:00000000 DJIMotorEnable
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:751    .text.DJIMotorOuterLoop:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:757    .text.DJIMotorOuterLoop:00000000 DJIMotorOuterLoop
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:774    .text.DJIMotorSetRef:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:780    .text.DJIMotorSetRef:00000000 DJIMotorSetRef
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:797    .text.DJIMotorControl:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:803    .text.DJIMotorControl:00000000 DJIMotorControl
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1161   .text.DJIMotorControl:0000018c $d
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1224   .bss.speed_err:00000000 speed_err
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1210   .bss.real_s:00000000 real_s
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1203   .bss.real_c:00000000 real_c
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1183   .bss.current_pid:00000000 current_pid
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1231   .bss.speed_pid:00000000 speed_pid
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1179   .bss.current_pid:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1186   .bss.dji_motor_instance:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1190   .bss.dji_motor_instance:00000000 dji_motor_instance
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1196   .bss.idx:00000000 idx
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1197   .bss.idx:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1199   .bss.real_c:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1206   .bss.real_s:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1213   .bss.sender_enable_flag:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1217   .bss.sender_enable_flag:00000000 sender_enable_flag
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1220   .bss.speed_err:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1227   .bss.speed_pid:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1234   .data.sender_assignment:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s:1238   .data.sender_assignment:00000000 sender_assignment

UNDEFINED SYMBOLS
hfdcan1
DaemonReload
DWT_GetDeltaT
malloc
memset
PIDInit
CANRegister
DaemonRegister
PIDCalculate
CANTransmit
hfdcan2
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccl65Mbh.s 			page 34


