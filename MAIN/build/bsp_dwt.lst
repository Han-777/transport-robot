ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"bsp_dwt.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.DWT_CNT_Update,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	DWT_CNT_Update:
  25              	.LFB149:
  26              		.file 1 "bsp/dwt/bsp_dwt.c"
   1:bsp/dwt/bsp_dwt.c **** /**
   2:bsp/dwt/bsp_dwt.c ****  ******************************************************************************
   3:bsp/dwt/bsp_dwt.c ****  * @file    bsp_dwt.c
   4:bsp/dwt/bsp_dwt.c ****  * @author  Wang Hongxi
   5:bsp/dwt/bsp_dwt.c ****  * @author  modified by Neo with annotation
   6:bsp/dwt/bsp_dwt.c ****  * @version V1.1.0
   7:bsp/dwt/bsp_dwt.c ****  * @date    2022/3/8
   8:bsp/dwt/bsp_dwt.c ****  * @brief
   9:bsp/dwt/bsp_dwt.c ****  */
  10:bsp/dwt/bsp_dwt.c **** 
  11:bsp/dwt/bsp_dwt.c **** #include "bsp_dwt.h"
  12:bsp/dwt/bsp_dwt.c **** #include "cmsis_os.h"
  13:bsp/dwt/bsp_dwt.c **** 
  14:bsp/dwt/bsp_dwt.c **** static DWT_Time_t SysTime;
  15:bsp/dwt/bsp_dwt.c **** static uint32_t CPU_FREQ_Hz, CPU_FREQ_Hz_ms, CPU_FREQ_Hz_us;
  16:bsp/dwt/bsp_dwt.c **** static uint32_t CYCCNT_RountCount;
  17:bsp/dwt/bsp_dwt.c **** static uint32_t CYCCNT_LAST;
  18:bsp/dwt/bsp_dwt.c **** static uint64_t CYCCNT64;
  19:bsp/dwt/bsp_dwt.c **** 
  20:bsp/dwt/bsp_dwt.c **** /**
  21:bsp/dwt/bsp_dwt.c ****  * @brief 私有函数,用于检查DWT CYCCNT寄存器是否溢出,并更新CYCCNT_RountCount
  22:bsp/dwt/bsp_dwt.c ****  * @attention 此函数假设两次调用之间的时间间隔不超过一次溢出
  23:bsp/dwt/bsp_dwt.c ****  *
  24:bsp/dwt/bsp_dwt.c ****  * @todo 更好的方案是为dwt的时间更新单独设置一个任务?
  25:bsp/dwt/bsp_dwt.c ****  *       不过,使用dwt的初衷是定时不被中断/任务等因素影响,因此该实现仍然
  26:bsp/dwt/bsp_dwt.c ****  *
  27:bsp/dwt/bsp_dwt.c ****  */
  28:bsp/dwt/bsp_dwt.c **** static void DWT_CNT_Update(void)
  29:bsp/dwt/bsp_dwt.c **** {
  27              		.loc 1 29 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 2


  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  30:bsp/dwt/bsp_dwt.c ****     static volatile uint8_t bit_locker = 0;
  32              		.loc 1 30 5 view .LVU1
  31:bsp/dwt/bsp_dwt.c ****     if (!bit_locker)
  33              		.loc 1 31 5 view .LVU2
  34              		.loc 1 31 9 is_stmt 0 view .LVU3
  35 0000 0E4B     		ldr	r3, .L8
  36 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  37              		.loc 1 31 8 view .LVU4
  38 0004 C3B9     		cbnz	r3, .L5
  29:bsp/dwt/bsp_dwt.c ****     static volatile uint8_t bit_locker = 0;
  39              		.loc 1 29 1 view .LVU5
  40 0006 82B0     		sub	sp, sp, #8
  41              	.LCFI0:
  42              		.cfi_def_cfa_offset 8
  43              	.LBB2:
  32:bsp/dwt/bsp_dwt.c ****     {
  33:bsp/dwt/bsp_dwt.c ****         bit_locker = 1;
  44              		.loc 1 33 9 is_stmt 1 view .LVU6
  45              		.loc 1 33 20 is_stmt 0 view .LVU7
  46 0008 0C4B     		ldr	r3, .L8
  47 000a 0122     		movs	r2, #1
  48 000c 1A70     		strb	r2, [r3]
  34:bsp/dwt/bsp_dwt.c ****         volatile uint32_t cnt_now = DWT->CYCCNT;
  49              		.loc 1 34 9 is_stmt 1 view .LVU8
  50              		.loc 1 34 40 is_stmt 0 view .LVU9
  51 000e 0C4B     		ldr	r3, .L8+4
  52 0010 5B68     		ldr	r3, [r3, #4]
  53              		.loc 1 34 27 view .LVU10
  54 0012 0193     		str	r3, [sp, #4]
  35:bsp/dwt/bsp_dwt.c ****         if (cnt_now < CYCCNT_LAST)
  55              		.loc 1 35 9 is_stmt 1 view .LVU11
  56              		.loc 1 35 21 is_stmt 0 view .LVU12
  57 0014 019A     		ldr	r2, [sp, #4]
  58 0016 0B4B     		ldr	r3, .L8+8
  59 0018 1B68     		ldr	r3, [r3]
  60              		.loc 1 35 12 view .LVU13
  61 001a 9A42     		cmp	r2, r3
  62 001c 03D2     		bcs	.L3
  36:bsp/dwt/bsp_dwt.c ****             CYCCNT_RountCount++;
  63              		.loc 1 36 13 is_stmt 1 view .LVU14
  64              		.loc 1 36 30 is_stmt 0 view .LVU15
  65 001e 0A4A     		ldr	r2, .L8+12
  66 0020 1368     		ldr	r3, [r2]
  67 0022 0133     		adds	r3, r3, #1
  68 0024 1360     		str	r3, [r2]
  69              	.L3:
  37:bsp/dwt/bsp_dwt.c **** 
  38:bsp/dwt/bsp_dwt.c ****         CYCCNT_LAST = DWT->CYCCNT;
  70              		.loc 1 38 9 is_stmt 1 view .LVU16
  71              		.loc 1 38 26 is_stmt 0 view .LVU17
  72 0026 064B     		ldr	r3, .L8+4
  73 0028 5A68     		ldr	r2, [r3, #4]
  74              		.loc 1 38 21 view .LVU18
  75 002a 064B     		ldr	r3, .L8+8
  76 002c 1A60     		str	r2, [r3]
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 3


  39:bsp/dwt/bsp_dwt.c ****         bit_locker = 0;
  77              		.loc 1 39 9 is_stmt 1 view .LVU19
  78              		.loc 1 39 20 is_stmt 0 view .LVU20
  79 002e 034B     		ldr	r3, .L8
  80 0030 0022     		movs	r2, #0
  81 0032 1A70     		strb	r2, [r3]
  82              	.LBE2:
  40:bsp/dwt/bsp_dwt.c ****     }
  41:bsp/dwt/bsp_dwt.c **** }
  83              		.loc 1 41 1 view .LVU21
  84 0034 02B0     		add	sp, sp, #8
  85              	.LCFI1:
  86              		.cfi_def_cfa_offset 0
  87              		@ sp needed
  88 0036 7047     		bx	lr
  89              	.L5:
  90 0038 7047     		bx	lr
  91              	.L9:
  92 003a 00BF     		.align	2
  93              	.L8:
  94 003c 00000000 		.word	.LANCHOR0
  95 0040 001000E0 		.word	-536866816
  96 0044 00000000 		.word	.LANCHOR1
  97 0048 00000000 		.word	.LANCHOR2
  98              		.cfi_endproc
  99              	.LFE149:
 101              		.section	.text.DWT_Init,"ax",%progbits
 102              		.align	1
 103              		.global	DWT_Init
 104              		.syntax unified
 105              		.thumb
 106              		.thumb_func
 108              	DWT_Init:
 109              	.LVL0:
 110              	.LFB150:
  42:bsp/dwt/bsp_dwt.c **** 
  43:bsp/dwt/bsp_dwt.c **** void DWT_Init(uint32_t CPU_Freq_mHz)
  44:bsp/dwt/bsp_dwt.c **** {
 111              		.loc 1 44 1 is_stmt 1 view -0
 112              		.cfi_startproc
 113              		@ args = 0, pretend = 0, frame = 0
 114              		@ frame_needed = 0, uses_anonymous_args = 0
 115              		.loc 1 44 1 is_stmt 0 view .LVU23
 116 0000 08B5     		push	{r3, lr}
 117              	.LCFI2:
 118              		.cfi_def_cfa_offset 8
 119              		.cfi_offset 3, -8
 120              		.cfi_offset 14, -4
  45:bsp/dwt/bsp_dwt.c ****     /* 使能DWT外设 */
  46:bsp/dwt/bsp_dwt.c ****     CoreDebug->DEMCR |= CoreDebug_DEMCR_TRCENA_Msk;
 121              		.loc 1 46 5 is_stmt 1 view .LVU24
 122              		.loc 1 46 22 is_stmt 0 view .LVU25
 123 0002 124A     		ldr	r2, .L12
 124 0004 D2F8FC30 		ldr	r3, [r2, #252]
 125 0008 43F08073 		orr	r3, r3, #16777216
 126 000c C2F8FC30 		str	r3, [r2, #252]
  47:bsp/dwt/bsp_dwt.c **** 
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 4


  48:bsp/dwt/bsp_dwt.c ****     /* DWT CYCCNT寄存器计数清0 */
  49:bsp/dwt/bsp_dwt.c ****     DWT->CYCCNT = (uint32_t)0u;
 127              		.loc 1 49 5 is_stmt 1 view .LVU26
 128              		.loc 1 49 17 is_stmt 0 view .LVU27
 129 0010 0F4B     		ldr	r3, .L12+4
 130 0012 0021     		movs	r1, #0
 131 0014 5960     		str	r1, [r3, #4]
  50:bsp/dwt/bsp_dwt.c **** 
  51:bsp/dwt/bsp_dwt.c ****     /* 使能Cortex-M DWT CYCCNT寄存器 */
  52:bsp/dwt/bsp_dwt.c ****     DWT->CTRL |= DWT_CTRL_CYCCNTENA_Msk;
 132              		.loc 1 52 5 is_stmt 1 view .LVU28
 133              		.loc 1 52 15 is_stmt 0 view .LVU29
 134 0016 1A68     		ldr	r2, [r3]
 135 0018 42F00102 		orr	r2, r2, #1
 136 001c 1A60     		str	r2, [r3]
  53:bsp/dwt/bsp_dwt.c **** 
  54:bsp/dwt/bsp_dwt.c ****     CPU_FREQ_Hz = CPU_Freq_mHz * 1000000;
 137              		.loc 1 54 5 is_stmt 1 view .LVU30
 138              		.loc 1 54 32 is_stmt 0 view .LVU31
 139 001e 0D4B     		ldr	r3, .L12+8
 140 0020 03FB00F0 		mul	r0, r3, r0
 141              	.LVL1:
 142              		.loc 1 54 17 view .LVU32
 143 0024 0C4B     		ldr	r3, .L12+12
 144 0026 1860     		str	r0, [r3]
  55:bsp/dwt/bsp_dwt.c ****     CPU_FREQ_Hz_ms = CPU_FREQ_Hz / 1000;
 145              		.loc 1 55 5 is_stmt 1 view .LVU33
 146              		.loc 1 55 34 is_stmt 0 view .LVU34
 147 0028 0C4B     		ldr	r3, .L12+16
 148 002a A3FB0023 		umull	r2, r3, r3, r0
 149 002e 9B09     		lsrs	r3, r3, #6
 150              		.loc 1 55 20 view .LVU35
 151 0030 0B4A     		ldr	r2, .L12+20
 152 0032 1360     		str	r3, [r2]
  56:bsp/dwt/bsp_dwt.c ****     CPU_FREQ_Hz_us = CPU_FREQ_Hz / 1000000;
 153              		.loc 1 56 5 is_stmt 1 view .LVU36
 154              		.loc 1 56 34 is_stmt 0 view .LVU37
 155 0034 0B4B     		ldr	r3, .L12+24
 156 0036 A3FB0030 		umull	r3, r0, r3, r0
 157 003a 800C     		lsrs	r0, r0, #18
 158              		.loc 1 56 20 view .LVU38
 159 003c 0A4B     		ldr	r3, .L12+28
 160 003e 1860     		str	r0, [r3]
  57:bsp/dwt/bsp_dwt.c ****     CYCCNT_RountCount = 0;
 161              		.loc 1 57 5 is_stmt 1 view .LVU39
 162              		.loc 1 57 23 is_stmt 0 view .LVU40
 163 0040 0A4B     		ldr	r3, .L12+32
 164 0042 1960     		str	r1, [r3]
  58:bsp/dwt/bsp_dwt.c **** 
  59:bsp/dwt/bsp_dwt.c ****     DWT_CNT_Update();
 165              		.loc 1 59 5 is_stmt 1 view .LVU41
 166 0044 FFF7FEFF 		bl	DWT_CNT_Update
 167              	.LVL2:
  60:bsp/dwt/bsp_dwt.c **** }
 168              		.loc 1 60 1 is_stmt 0 view .LVU42
 169 0048 08BD     		pop	{r3, pc}
 170              	.L13:
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 5


 171 004a 00BF     		.align	2
 172              	.L12:
 173 004c 00ED00E0 		.word	-536810240
 174 0050 001000E0 		.word	-536866816
 175 0054 40420F00 		.word	1000000
 176 0058 00000000 		.word	.LANCHOR3
 177 005c D34D6210 		.word	274877907
 178 0060 00000000 		.word	.LANCHOR4
 179 0064 83DE1B43 		.word	1125899907
 180 0068 00000000 		.word	.LANCHOR5
 181 006c 00000000 		.word	.LANCHOR2
 182              		.cfi_endproc
 183              	.LFE150:
 185              		.section	.text.DWT_GetDeltaT,"ax",%progbits
 186              		.align	1
 187              		.global	DWT_GetDeltaT
 188              		.syntax unified
 189              		.thumb
 190              		.thumb_func
 192              	DWT_GetDeltaT:
 193              	.LVL3:
 194              	.LFB151:
  61:bsp/dwt/bsp_dwt.c **** 
  62:bsp/dwt/bsp_dwt.c **** float DWT_GetDeltaT(uint32_t *cnt_last)
  63:bsp/dwt/bsp_dwt.c **** {
 195              		.loc 1 63 1 is_stmt 1 view -0
 196              		.cfi_startproc
 197              		@ args = 0, pretend = 0, frame = 8
 198              		@ frame_needed = 0, uses_anonymous_args = 0
 199              		.loc 1 63 1 is_stmt 0 view .LVU44
 200 0000 00B5     		push	{lr}
 201              	.LCFI3:
 202              		.cfi_def_cfa_offset 4
 203              		.cfi_offset 14, -4
 204 0002 2DED028B 		vpush.64	{d8}
 205              	.LCFI4:
 206              		.cfi_def_cfa_offset 12
 207              		.cfi_offset 80, -12
 208              		.cfi_offset 81, -8
 209 0006 83B0     		sub	sp, sp, #12
 210              	.LCFI5:
 211              		.cfi_def_cfa_offset 24
  64:bsp/dwt/bsp_dwt.c ****     volatile uint32_t cnt_now = DWT->CYCCNT;
 212              		.loc 1 64 5 is_stmt 1 view .LVU45
 213              		.loc 1 64 36 is_stmt 0 view .LVU46
 214 0008 0D4B     		ldr	r3, .L16
 215 000a 5B68     		ldr	r3, [r3, #4]
 216              		.loc 1 64 23 view .LVU47
 217 000c 0193     		str	r3, [sp, #4]
  65:bsp/dwt/bsp_dwt.c ****     float dt = ((uint32_t)(cnt_now - *cnt_last)) / ((float)(CPU_FREQ_Hz));
 218              		.loc 1 65 5 is_stmt 1 view .LVU48
 219              		.loc 1 65 17 is_stmt 0 view .LVU49
 220 000e 019B     		ldr	r3, [sp, #4]
 221              		.loc 1 65 38 view .LVU50
 222 0010 0268     		ldr	r2, [r0]
 223              		.loc 1 65 17 view .LVU51
 224 0012 9B1A     		subs	r3, r3, r2
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 6


 225              		.loc 1 65 50 view .LVU52
 226 0014 07EE903A 		vmov	s15, r3	@ int
 227 0018 F8EE677A 		vcvt.f32.u32	s15, s15
 228              		.loc 1 65 53 view .LVU53
 229 001c 094B     		ldr	r3, .L16+4
 230 001e 93ED007A 		vldr.32	s14, [r3]	@ int
 231 0022 B8EE477A 		vcvt.f32.u32	s14, s14
 232              		.loc 1 65 11 view .LVU54
 233 0026 87EE878A 		vdiv.f32	s16, s15, s14
 234              	.LVL4:
  66:bsp/dwt/bsp_dwt.c ****     *cnt_last = cnt_now;
 235              		.loc 1 66 5 is_stmt 1 view .LVU55
 236              		.loc 1 66 15 is_stmt 0 view .LVU56
 237 002a 019B     		ldr	r3, [sp, #4]
 238 002c 0360     		str	r3, [r0]
  67:bsp/dwt/bsp_dwt.c **** 
  68:bsp/dwt/bsp_dwt.c ****     DWT_CNT_Update();
 239              		.loc 1 68 5 is_stmt 1 view .LVU57
 240 002e FFF7FEFF 		bl	DWT_CNT_Update
 241              	.LVL5:
  69:bsp/dwt/bsp_dwt.c **** 
  70:bsp/dwt/bsp_dwt.c ****     return dt;
 242              		.loc 1 70 5 view .LVU58
  71:bsp/dwt/bsp_dwt.c **** }
 243              		.loc 1 71 1 is_stmt 0 view .LVU59
 244 0032 B0EE480A 		vmov.f32	s0, s16
 245 0036 03B0     		add	sp, sp, #12
 246              	.LCFI6:
 247              		.cfi_def_cfa_offset 12
 248              		@ sp needed
 249 0038 BDEC028B 		vldm	sp!, {d8}
 250              	.LCFI7:
 251              		.cfi_restore 80
 252              		.cfi_restore 81
 253              		.cfi_def_cfa_offset 4
 254              	.LVL6:
 255              		.loc 1 71 1 view .LVU60
 256 003c 5DF804FB 		ldr	pc, [sp], #4
 257              	.L17:
 258              		.align	2
 259              	.L16:
 260 0040 001000E0 		.word	-536866816
 261 0044 00000000 		.word	.LANCHOR3
 262              		.cfi_endproc
 263              	.LFE151:
 265              		.section	.text.DWT_GetDeltaT64,"ax",%progbits
 266              		.align	1
 267              		.global	DWT_GetDeltaT64
 268              		.syntax unified
 269              		.thumb
 270              		.thumb_func
 272              	DWT_GetDeltaT64:
 273              	.LVL7:
 274              	.LFB152:
  72:bsp/dwt/bsp_dwt.c **** 
  73:bsp/dwt/bsp_dwt.c **** double DWT_GetDeltaT64(uint32_t *cnt_last)
  74:bsp/dwt/bsp_dwt.c **** {
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 7


 275              		.loc 1 74 1 is_stmt 1 view -0
 276              		.cfi_startproc
 277              		@ args = 0, pretend = 0, frame = 8
 278              		@ frame_needed = 0, uses_anonymous_args = 0
 279              		.loc 1 74 1 is_stmt 0 view .LVU62
 280 0000 00B5     		push	{lr}
 281              	.LCFI8:
 282              		.cfi_def_cfa_offset 4
 283              		.cfi_offset 14, -4
 284 0002 2DED028B 		vpush.64	{d8}
 285              	.LCFI9:
 286              		.cfi_def_cfa_offset 12
 287              		.cfi_offset 80, -12
 288              		.cfi_offset 81, -8
 289 0006 83B0     		sub	sp, sp, #12
 290              	.LCFI10:
 291              		.cfi_def_cfa_offset 24
  75:bsp/dwt/bsp_dwt.c ****     volatile uint32_t cnt_now = DWT->CYCCNT;
 292              		.loc 1 75 5 is_stmt 1 view .LVU63
 293              		.loc 1 75 36 is_stmt 0 view .LVU64
 294 0008 0D4B     		ldr	r3, .L20
 295 000a 5B68     		ldr	r3, [r3, #4]
 296              		.loc 1 75 23 view .LVU65
 297 000c 0193     		str	r3, [sp, #4]
  76:bsp/dwt/bsp_dwt.c ****     double dt = ((uint32_t)(cnt_now - *cnt_last)) / ((double)(CPU_FREQ_Hz));
 298              		.loc 1 76 5 is_stmt 1 view .LVU66
 299              		.loc 1 76 18 is_stmt 0 view .LVU67
 300 000e 019B     		ldr	r3, [sp, #4]
 301              		.loc 1 76 39 view .LVU68
 302 0010 0268     		ldr	r2, [r0]
 303              		.loc 1 76 18 view .LVU69
 304 0012 9B1A     		subs	r3, r3, r2
 305              		.loc 1 76 51 view .LVU70
 306 0014 07EE903A 		vmov	s15, r3	@ int
 307 0018 B8EE677B 		vcvt.f64.u32	d7, s15
 308              		.loc 1 76 54 view .LVU71
 309 001c 094B     		ldr	r3, .L20+4
 310 001e 93ED006A 		vldr.32	s12, [r3]	@ int
 311 0022 B8EE466B 		vcvt.f64.u32	d6, s12
 312              		.loc 1 76 12 view .LVU72
 313 0026 87EE068B 		vdiv.f64	d8, d7, d6
 314              	.LVL8:
  77:bsp/dwt/bsp_dwt.c ****     *cnt_last = cnt_now;
 315              		.loc 1 77 5 is_stmt 1 view .LVU73
 316              		.loc 1 77 15 is_stmt 0 view .LVU74
 317 002a 019B     		ldr	r3, [sp, #4]
 318 002c 0360     		str	r3, [r0]
  78:bsp/dwt/bsp_dwt.c **** 
  79:bsp/dwt/bsp_dwt.c ****     DWT_CNT_Update();
 319              		.loc 1 79 5 is_stmt 1 view .LVU75
 320 002e FFF7FEFF 		bl	DWT_CNT_Update
 321              	.LVL9:
  80:bsp/dwt/bsp_dwt.c **** 
  81:bsp/dwt/bsp_dwt.c ****     return dt;
 322              		.loc 1 81 5 view .LVU76
  82:bsp/dwt/bsp_dwt.c **** }
 323              		.loc 1 82 1 is_stmt 0 view .LVU77
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 8


 324 0032 B0EE480B 		vmov.f64	d0, d8
 325 0036 03B0     		add	sp, sp, #12
 326              	.LCFI11:
 327              		.cfi_def_cfa_offset 12
 328              		@ sp needed
 329 0038 BDEC028B 		vldm	sp!, {d8}
 330              	.LCFI12:
 331              		.cfi_restore 80
 332              		.cfi_restore 81
 333              		.cfi_def_cfa_offset 4
 334              	.LVL10:
 335              		.loc 1 82 1 view .LVU78
 336 003c 5DF804FB 		ldr	pc, [sp], #4
 337              	.L21:
 338              		.align	2
 339              	.L20:
 340 0040 001000E0 		.word	-536866816
 341 0044 00000000 		.word	.LANCHOR3
 342              		.cfi_endproc
 343              	.LFE152:
 345              		.global	__aeabi_uldivmod
 346              		.section	.text.DWT_SysTimeUpdate,"ax",%progbits
 347              		.align	1
 348              		.global	DWT_SysTimeUpdate
 349              		.syntax unified
 350              		.thumb
 351              		.thumb_func
 353              	DWT_SysTimeUpdate:
 354              	.LFB153:
  83:bsp/dwt/bsp_dwt.c **** 
  84:bsp/dwt/bsp_dwt.c **** void DWT_SysTimeUpdate(void)
  85:bsp/dwt/bsp_dwt.c **** {
 355              		.loc 1 85 1 is_stmt 1 view -0
 356              		.cfi_startproc
 357              		@ args = 0, pretend = 0, frame = 8
 358              		@ frame_needed = 0, uses_anonymous_args = 0
 359 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 360              	.LCFI13:
 361              		.cfi_def_cfa_offset 24
 362              		.cfi_offset 4, -24
 363              		.cfi_offset 5, -20
 364              		.cfi_offset 6, -16
 365              		.cfi_offset 7, -12
 366              		.cfi_offset 8, -8
 367              		.cfi_offset 14, -4
 368 0004 82B0     		sub	sp, sp, #8
 369              	.LCFI14:
 370              		.cfi_def_cfa_offset 32
  86:bsp/dwt/bsp_dwt.c ****     volatile uint32_t cnt_now = DWT->CYCCNT;
 371              		.loc 1 86 5 view .LVU80
 372              		.loc 1 86 36 is_stmt 0 view .LVU81
 373 0006 274B     		ldr	r3, .L24
 374 0008 5B68     		ldr	r3, [r3, #4]
 375              		.loc 1 86 23 view .LVU82
 376 000a 0193     		str	r3, [sp, #4]
  87:bsp/dwt/bsp_dwt.c ****     static uint64_t CNT_TEMP1, CNT_TEMP2, CNT_TEMP3;
 377              		.loc 1 87 5 is_stmt 1 view .LVU83
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 9


  88:bsp/dwt/bsp_dwt.c **** 
  89:bsp/dwt/bsp_dwt.c ****     DWT_CNT_Update();
 378              		.loc 1 89 5 view .LVU84
 379 000c FFF7FEFF 		bl	DWT_CNT_Update
 380              	.LVL11:
  90:bsp/dwt/bsp_dwt.c **** 
  91:bsp/dwt/bsp_dwt.c ****     CYCCNT64 = (uint64_t)CYCCNT_RountCount * (uint64_t)UINT32_MAX + (uint64_t)cnt_now;
 381              		.loc 1 91 5 view .LVU85
 382              		.loc 1 91 16 is_stmt 0 view .LVU86
 383 0010 254B     		ldr	r3, .L24+4
 384 0012 1C68     		ldr	r4, [r3]
 385 0014 0026     		movs	r6, #0
 386              		.loc 1 91 44 view .LVU87
 387 0016 6508     		lsrs	r5, r4, #1
 388 0018 E307     		lsls	r3, r4, #31
 389 001a 1B1B     		subs	r3, r3, r4
 390 001c 65F10005 		sbc	r5, r5, #0
 391 0020 DB18     		adds	r3, r3, r3
 392 0022 6D41     		adcs	r5, r5, r5
 393 0024 1C19     		adds	r4, r3, r4
 394 0026 45F10005 		adc	r5, r5, #0
 395              		.loc 1 91 69 view .LVU88
 396 002a 019B     		ldr	r3, [sp, #4]
 397              		.loc 1 91 67 view .LVU89
 398 002c E418     		adds	r4, r4, r3
 399 002e 45F10007 		adc	r7, r5, #0
 400              		.loc 1 91 14 view .LVU90
 401 0032 1E4B     		ldr	r3, .L24+8
 402 0034 1C60     		str	r4, [r3]
 403 0036 5F60     		str	r7, [r3, #4]
  92:bsp/dwt/bsp_dwt.c ****     CNT_TEMP1 = CYCCNT64 / CPU_FREQ_Hz;
 404              		.loc 1 92 5 is_stmt 1 view .LVU91
 405              		.loc 1 92 26 is_stmt 0 view .LVU92
 406 0038 1D4B     		ldr	r3, .L24+12
 407 003a 1D68     		ldr	r5, [r3]
 408 003c 2A46     		mov	r2, r5
 409 003e 3346     		mov	r3, r6
 410 0040 2046     		mov	r0, r4
 411 0042 3946     		mov	r1, r7
 412 0044 FFF7FEFF 		bl	__aeabi_uldivmod
 413              	.LVL12:
 414              		.loc 1 92 15 view .LVU93
 415 0048 1A4A     		ldr	r2, .L24+16
 416 004a 1060     		str	r0, [r2]
 417 004c 5160     		str	r1, [r2, #4]
  93:bsp/dwt/bsp_dwt.c ****     CNT_TEMP2 = CYCCNT64 - CNT_TEMP1 * CPU_FREQ_Hz;
 418              		.loc 1 93 5 is_stmt 1 view .LVU94
 419              		.loc 1 93 38 is_stmt 0 view .LVU95
 420 004e A5FB0032 		umull	r3, r2, r5, r0
 421 0052 05FB0125 		mla	r5, r5, r1, r2
 422              		.loc 1 93 26 view .LVU96
 423 0056 E41A     		subs	r4, r4, r3
 424 0058 67EB0505 		sbc	r5, r7, r5
 425              		.loc 1 93 15 view .LVU97
 426 005c 164B     		ldr	r3, .L24+20
 427 005e 1C60     		str	r4, [r3]
 428 0060 5D60     		str	r5, [r3, #4]
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 10


  94:bsp/dwt/bsp_dwt.c ****     SysTime.s = CNT_TEMP1;
 429              		.loc 1 94 5 is_stmt 1 view .LVU98
 430              		.loc 1 94 15 is_stmt 0 view .LVU99
 431 0062 DFF86480 		ldr	r8, .L24+36
 432 0066 C8F80000 		str	r0, [r8]
  95:bsp/dwt/bsp_dwt.c ****     SysTime.ms = CNT_TEMP2 / CPU_FREQ_Hz_ms;
 433              		.loc 1 95 5 is_stmt 1 view .LVU100
 434              		.loc 1 95 28 is_stmt 0 view .LVU101
 435 006a 144B     		ldr	r3, .L24+24
 436 006c 1F68     		ldr	r7, [r3]
 437 006e 3A46     		mov	r2, r7
 438 0070 3346     		mov	r3, r6
 439 0072 2046     		mov	r0, r4
 440 0074 2946     		mov	r1, r5
 441 0076 FFF7FEFF 		bl	__aeabi_uldivmod
 442              	.LVL13:
 443              		.loc 1 95 16 view .LVU102
 444 007a 80B2     		uxth	r0, r0
 445 007c A8F80400 		strh	r0, [r8, #4]	@ movhi
  96:bsp/dwt/bsp_dwt.c ****     CNT_TEMP3 = CNT_TEMP2 - SysTime.ms * CPU_FREQ_Hz_ms;
 446              		.loc 1 96 5 is_stmt 1 view .LVU103
 447              		.loc 1 96 40 is_stmt 0 view .LVU104
 448 0080 07FB00F0 		mul	r0, r7, r0
 449              		.loc 1 96 27 view .LVU105
 450 0084 201A     		subs	r0, r4, r0
 451 0086 65F10001 		sbc	r1, r5, #0
 452              		.loc 1 96 15 view .LVU106
 453 008a 0D4B     		ldr	r3, .L24+28
 454 008c 1860     		str	r0, [r3]
 455 008e 5960     		str	r1, [r3, #4]
  97:bsp/dwt/bsp_dwt.c ****     SysTime.us = CNT_TEMP3 / CPU_FREQ_Hz_us;
 456              		.loc 1 97 5 is_stmt 1 view .LVU107
 457              		.loc 1 97 28 is_stmt 0 view .LVU108
 458 0090 0C4B     		ldr	r3, .L24+32
 459 0092 1A68     		ldr	r2, [r3]
 460 0094 3346     		mov	r3, r6
 461 0096 FFF7FEFF 		bl	__aeabi_uldivmod
 462              	.LVL14:
 463              		.loc 1 97 16 view .LVU109
 464 009a A8F80600 		strh	r0, [r8, #6]	@ movhi
  98:bsp/dwt/bsp_dwt.c **** }
 465              		.loc 1 98 1 view .LVU110
 466 009e 02B0     		add	sp, sp, #8
 467              	.LCFI15:
 468              		.cfi_def_cfa_offset 24
 469              		@ sp needed
 470 00a0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 471              	.L25:
 472              		.align	2
 473              	.L24:
 474 00a4 001000E0 		.word	-536866816
 475 00a8 00000000 		.word	.LANCHOR2
 476 00ac 00000000 		.word	.LANCHOR6
 477 00b0 00000000 		.word	.LANCHOR3
 478 00b4 00000000 		.word	.LANCHOR7
 479 00b8 00000000 		.word	.LANCHOR8
 480 00bc 00000000 		.word	.LANCHOR4
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 11


 481 00c0 00000000 		.word	.LANCHOR10
 482 00c4 00000000 		.word	.LANCHOR5
 483 00c8 00000000 		.word	.LANCHOR9
 484              		.cfi_endproc
 485              	.LFE153:
 487              		.section	.text.DWT_GetTimeline_s,"ax",%progbits
 488              		.align	1
 489              		.global	DWT_GetTimeline_s
 490              		.syntax unified
 491              		.thumb
 492              		.thumb_func
 494              	DWT_GetTimeline_s:
 495              	.LFB154:
  99:bsp/dwt/bsp_dwt.c **** 
 100:bsp/dwt/bsp_dwt.c **** float DWT_GetTimeline_s(void)
 101:bsp/dwt/bsp_dwt.c **** {
 496              		.loc 1 101 1 is_stmt 1 view -0
 497              		.cfi_startproc
 498              		@ args = 0, pretend = 0, frame = 0
 499              		@ frame_needed = 0, uses_anonymous_args = 0
 500 0000 08B5     		push	{r3, lr}
 501              	.LCFI16:
 502              		.cfi_def_cfa_offset 8
 503              		.cfi_offset 3, -8
 504              		.cfi_offset 14, -4
 102:bsp/dwt/bsp_dwt.c ****     DWT_SysTimeUpdate();
 505              		.loc 1 102 5 view .LVU112
 506 0002 FFF7FEFF 		bl	DWT_SysTimeUpdate
 507              	.LVL15:
 103:bsp/dwt/bsp_dwt.c **** 
 104:bsp/dwt/bsp_dwt.c ****     float DWT_Timelinef32 = SysTime.s + SysTime.ms * 0.001f + SysTime.us * 0.000001f;
 508              		.loc 1 104 5 view .LVU113
 509              		.loc 1 104 36 is_stmt 0 view .LVU114
 510 0006 0E4B     		ldr	r3, .L28
 511              		.loc 1 104 48 view .LVU115
 512 0008 9A88     		ldrh	r2, [r3, #4]
 513 000a 00EE102A 		vmov	s0, r2	@ int
 514              		.loc 1 104 52 view .LVU116
 515 000e B8EEC00A 		vcvt.f32.s32	s0, s0
 516 0012 DFED0C7A 		vldr.32	s15, .L28+4
 517 0016 60EE277A 		vmul.f32	s15, s0, s15
 518              		.loc 1 104 39 view .LVU117
 519 001a 93ED007A 		vldr.32	s14, [r3]	@ int
 520 001e B8EE470A 		vcvt.f32.u32	s0, s14
 521 0022 30EE270A 		vadd.f32	s0, s0, s15
 522              		.loc 1 104 70 view .LVU118
 523 0026 DB88     		ldrh	r3, [r3, #6]
 524 0028 07EE903A 		vmov	s15, r3	@ int
 525              		.loc 1 104 74 view .LVU119
 526 002c F8EEE77A 		vcvt.f32.s32	s15, s15
 527 0030 9FED057A 		vldr.32	s14, .L28+8
 528 0034 67EE877A 		vmul.f32	s15, s15, s14
 529              	.LVL16:
 105:bsp/dwt/bsp_dwt.c **** 
 106:bsp/dwt/bsp_dwt.c ****     return DWT_Timelinef32;
 530              		.loc 1 106 5 is_stmt 1 view .LVU120
 107:bsp/dwt/bsp_dwt.c **** }
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 12


 531              		.loc 1 107 1 is_stmt 0 view .LVU121
 532 0038 30EE270A 		vadd.f32	s0, s0, s15
 533              	.LVL17:
 534              		.loc 1 107 1 view .LVU122
 535 003c 08BD     		pop	{r3, pc}
 536              	.L29:
 537 003e 00BF     		.align	2
 538              	.L28:
 539 0040 00000000 		.word	.LANCHOR9
 540 0044 6F12833A 		.word	981668463
 541 0048 BD378635 		.word	897988541
 542              		.cfi_endproc
 543              	.LFE154:
 545              		.section	.text.DWT_GetTimeline_ms,"ax",%progbits
 546              		.align	1
 547              		.global	DWT_GetTimeline_ms
 548              		.syntax unified
 549              		.thumb
 550              		.thumb_func
 552              	DWT_GetTimeline_ms:
 553              	.LFB155:
 108:bsp/dwt/bsp_dwt.c **** 
 109:bsp/dwt/bsp_dwt.c **** float DWT_GetTimeline_ms(void)
 110:bsp/dwt/bsp_dwt.c **** {
 554              		.loc 1 110 1 is_stmt 1 view -0
 555              		.cfi_startproc
 556              		@ args = 0, pretend = 0, frame = 0
 557              		@ frame_needed = 0, uses_anonymous_args = 0
 558 0000 08B5     		push	{r3, lr}
 559              	.LCFI17:
 560              		.cfi_def_cfa_offset 8
 561              		.cfi_offset 3, -8
 562              		.cfi_offset 14, -4
 111:bsp/dwt/bsp_dwt.c ****     DWT_SysTimeUpdate();
 563              		.loc 1 111 5 view .LVU124
 564 0002 FFF7FEFF 		bl	DWT_SysTimeUpdate
 565              	.LVL18:
 112:bsp/dwt/bsp_dwt.c **** 
 113:bsp/dwt/bsp_dwt.c ****     float DWT_Timelinef32 = SysTime.s * 1000 + SysTime.ms + SysTime.us * 0.001f;
 566              		.loc 1 113 5 view .LVU125
 567              		.loc 1 113 36 is_stmt 0 view .LVU126
 568 0006 0B4A     		ldr	r2, .L32
 569 0008 1168     		ldr	r1, [r2]
 570              		.loc 1 113 55 view .LVU127
 571 000a 9388     		ldrh	r3, [r2, #4]
 572              		.loc 1 113 46 view .LVU128
 573 000c 4FF47A70 		mov	r0, #1000
 574 0010 00FB0133 		mla	r3, r0, r1, r3
 575 0014 00EE103A 		vmov	s0, r3	@ int
 576              		.loc 1 113 59 view .LVU129
 577 0018 B8EE400A 		vcvt.f32.u32	s0, s0
 578              		.loc 1 113 68 view .LVU130
 579 001c D388     		ldrh	r3, [r2, #6]
 580 001e 07EE903A 		vmov	s15, r3	@ int
 581              		.loc 1 113 72 view .LVU131
 582 0022 F8EEE77A 		vcvt.f32.s32	s15, s15
 583 0026 9FED047A 		vldr.32	s14, .L32+4
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 13


 584 002a 67EE877A 		vmul.f32	s15, s15, s14
 585              	.LVL19:
 114:bsp/dwt/bsp_dwt.c **** 
 115:bsp/dwt/bsp_dwt.c ****     return DWT_Timelinef32;
 586              		.loc 1 115 5 is_stmt 1 view .LVU132
 116:bsp/dwt/bsp_dwt.c **** }
 587              		.loc 1 116 1 is_stmt 0 view .LVU133
 588 002e 30EE270A 		vadd.f32	s0, s0, s15
 589              	.LVL20:
 590              		.loc 1 116 1 view .LVU134
 591 0032 08BD     		pop	{r3, pc}
 592              	.L33:
 593              		.align	2
 594              	.L32:
 595 0034 00000000 		.word	.LANCHOR9
 596 0038 6F12833A 		.word	981668463
 597              		.cfi_endproc
 598              	.LFE155:
 600              		.section	.text.DWT_GetTimeline_us,"ax",%progbits
 601              		.align	1
 602              		.global	DWT_GetTimeline_us
 603              		.syntax unified
 604              		.thumb
 605              		.thumb_func
 607              	DWT_GetTimeline_us:
 608              	.LFB156:
 117:bsp/dwt/bsp_dwt.c **** 
 118:bsp/dwt/bsp_dwt.c **** uint64_t DWT_GetTimeline_us(void)
 119:bsp/dwt/bsp_dwt.c **** {
 609              		.loc 1 119 1 is_stmt 1 view -0
 610              		.cfi_startproc
 611              		@ args = 0, pretend = 0, frame = 0
 612              		@ frame_needed = 0, uses_anonymous_args = 0
 613 0000 08B5     		push	{r3, lr}
 614              	.LCFI18:
 615              		.cfi_def_cfa_offset 8
 616              		.cfi_offset 3, -8
 617              		.cfi_offset 14, -4
 120:bsp/dwt/bsp_dwt.c ****     DWT_SysTimeUpdate();
 618              		.loc 1 120 5 view .LVU136
 619 0002 FFF7FEFF 		bl	DWT_SysTimeUpdate
 620              	.LVL21:
 121:bsp/dwt/bsp_dwt.c **** 
 122:bsp/dwt/bsp_dwt.c ****     uint64_t DWT_Timelinef32 = SysTime.s * 1000000 + SysTime.ms * 1000 + SysTime.us;
 621              		.loc 1 122 5 view .LVU137
 622              		.loc 1 122 39 is_stmt 0 view .LVU138
 623 0006 074A     		ldr	r2, .L36
 624 0008 1068     		ldr	r0, [r2]
 625              		.loc 1 122 61 view .LVU139
 626 000a 9388     		ldrh	r3, [r2, #4]
 627              		.loc 1 122 65 view .LVU140
 628 000c 4FF47A71 		mov	r1, #1000
 629 0010 01FB03F3 		mul	r3, r1, r3
 630              		.loc 1 122 52 view .LVU141
 631 0014 0449     		ldr	r1, .L36+4
 632 0016 01FB0033 		mla	r3, r1, r0, r3
 633              		.loc 1 122 81 view .LVU142
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 14


 634 001a D088     		ldrh	r0, [r2, #6]
 635              	.LVL22:
 123:bsp/dwt/bsp_dwt.c **** 
 124:bsp/dwt/bsp_dwt.c ****     return DWT_Timelinef32;
 636              		.loc 1 124 5 is_stmt 1 view .LVU143
 125:bsp/dwt/bsp_dwt.c **** }
 637              		.loc 1 125 1 is_stmt 0 view .LVU144
 638 001c 1844     		add	r0, r0, r3
 639              	.LVL23:
 640              		.loc 1 125 1 view .LVU145
 641 001e 0021     		movs	r1, #0
 642 0020 08BD     		pop	{r3, pc}
 643              	.L37:
 644 0022 00BF     		.align	2
 645              	.L36:
 646 0024 00000000 		.word	.LANCHOR9
 647 0028 40420F00 		.word	1000000
 648              		.cfi_endproc
 649              	.LFE156:
 651              		.section	.text.DWT_Delay,"ax",%progbits
 652              		.align	1
 653              		.global	DWT_Delay
 654              		.syntax unified
 655              		.thumb
 656              		.thumb_func
 658              	DWT_Delay:
 659              	.LVL24:
 660              	.LFB157:
 126:bsp/dwt/bsp_dwt.c **** 
 127:bsp/dwt/bsp_dwt.c **** void DWT_Delay(float Delay)
 128:bsp/dwt/bsp_dwt.c **** {
 661              		.loc 1 128 1 is_stmt 1 view -0
 662              		.cfi_startproc
 663              		@ args = 0, pretend = 0, frame = 0
 664              		@ frame_needed = 0, uses_anonymous_args = 0
 665              		@ link register save eliminated.
 129:bsp/dwt/bsp_dwt.c ****     uint32_t tickstart = DWT->CYCCNT;
 666              		.loc 1 129 5 view .LVU147
 667              		.loc 1 129 14 is_stmt 0 view .LVU148
 668 0000 0A4B     		ldr	r3, .L40
 669 0002 5A68     		ldr	r2, [r3, #4]
 670              	.LVL25:
 130:bsp/dwt/bsp_dwt.c ****     float wait = Delay;
 671              		.loc 1 130 5 is_stmt 1 view .LVU149
 131:bsp/dwt/bsp_dwt.c **** 
 132:bsp/dwt/bsp_dwt.c ****     while ((DWT->CYCCNT - tickstart) < wait * (float)CPU_FREQ_Hz)
 672              		.loc 1 132 5 view .LVU150
 673              	.L39:
 133:bsp/dwt/bsp_dwt.c ****         ;
 674              		.loc 1 133 9 discriminator 1 view .LVU151
 132:bsp/dwt/bsp_dwt.c ****         ;
 675              		.loc 1 132 11 discriminator 1 view .LVU152
 132:bsp/dwt/bsp_dwt.c ****         ;
 676              		.loc 1 132 16 is_stmt 0 discriminator 1 view .LVU153
 677 0004 094B     		ldr	r3, .L40
 678 0006 5B68     		ldr	r3, [r3, #4]
 132:bsp/dwt/bsp_dwt.c ****         ;
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 15


 679              		.loc 1 132 25 discriminator 1 view .LVU154
 680 0008 9B1A     		subs	r3, r3, r2
 132:bsp/dwt/bsp_dwt.c ****         ;
 681              		.loc 1 132 38 discriminator 1 view .LVU155
 682 000a 07EE903A 		vmov	s15, r3	@ int
 683 000e B8EE677A 		vcvt.f32.u32	s14, s15
 132:bsp/dwt/bsp_dwt.c ****         ;
 684              		.loc 1 132 47 discriminator 1 view .LVU156
 685 0012 074B     		ldr	r3, .L40+4
 686 0014 D3ED007A 		vldr.32	s15, [r3]	@ int
 687 0018 F8EE677A 		vcvt.f32.u32	s15, s15
 132:bsp/dwt/bsp_dwt.c ****         ;
 688              		.loc 1 132 45 discriminator 1 view .LVU157
 689 001c 67EE807A 		vmul.f32	s15, s15, s0
 132:bsp/dwt/bsp_dwt.c ****         ;
 690              		.loc 1 132 11 discriminator 1 view .LVU158
 691 0020 B4EEE77A 		vcmpe.f32	s14, s15
 692 0024 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 693 0028 ECD4     		bmi	.L39
 134:bsp/dwt/bsp_dwt.c **** }
 694              		.loc 1 134 1 view .LVU159
 695 002a 7047     		bx	lr
 696              	.L41:
 697              		.align	2
 698              	.L40:
 699 002c 001000E0 		.word	-536866816
 700 0030 00000000 		.word	.LANCHOR3
 701              		.cfi_endproc
 702              	.LFE157:
 704              		.section	.text.DWT_Delay_ms,"ax",%progbits
 705              		.align	1
 706              		.global	DWT_Delay_ms
 707              		.syntax unified
 708              		.thumb
 709              		.thumb_func
 711              	DWT_Delay_ms:
 712              	.LVL26:
 713              	.LFB158:
 135:bsp/dwt/bsp_dwt.c **** 
 136:bsp/dwt/bsp_dwt.c **** void DWT_Delay_ms(float Delay_ms)
 137:bsp/dwt/bsp_dwt.c **** {
 714              		.loc 1 137 1 is_stmt 1 view -0
 715              		.cfi_startproc
 716              		@ args = 0, pretend = 0, frame = 0
 717              		@ frame_needed = 0, uses_anonymous_args = 0
 718              		@ link register save eliminated.
 138:bsp/dwt/bsp_dwt.c ****     uint32_t tickstart = DWT->CYCCNT;
 719              		.loc 1 138 5 view .LVU161
 720              		.loc 1 138 14 is_stmt 0 view .LVU162
 721 0000 0A4B     		ldr	r3, .L44
 722 0002 5A68     		ldr	r2, [r3, #4]
 723              	.LVL27:
 139:bsp/dwt/bsp_dwt.c ****     float wait = Delay_ms;
 724              		.loc 1 139 5 is_stmt 1 view .LVU163
 140:bsp/dwt/bsp_dwt.c **** 
 141:bsp/dwt/bsp_dwt.c ****     while ((DWT->CYCCNT - tickstart) < wait * (float)CPU_FREQ_Hz_us)
 725              		.loc 1 141 5 view .LVU164
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 16


 726              	.L43:
 142:bsp/dwt/bsp_dwt.c ****         ;
 727              		.loc 1 142 9 discriminator 1 view .LVU165
 141:bsp/dwt/bsp_dwt.c ****         ;
 728              		.loc 1 141 11 discriminator 1 view .LVU166
 141:bsp/dwt/bsp_dwt.c ****         ;
 729              		.loc 1 141 16 is_stmt 0 discriminator 1 view .LVU167
 730 0004 094B     		ldr	r3, .L44
 731 0006 5B68     		ldr	r3, [r3, #4]
 141:bsp/dwt/bsp_dwt.c ****         ;
 732              		.loc 1 141 25 discriminator 1 view .LVU168
 733 0008 9B1A     		subs	r3, r3, r2
 141:bsp/dwt/bsp_dwt.c ****         ;
 734              		.loc 1 141 38 discriminator 1 view .LVU169
 735 000a 07EE903A 		vmov	s15, r3	@ int
 736 000e B8EE677A 		vcvt.f32.u32	s14, s15
 141:bsp/dwt/bsp_dwt.c ****         ;
 737              		.loc 1 141 47 discriminator 1 view .LVU170
 738 0012 074B     		ldr	r3, .L44+4
 739 0014 D3ED007A 		vldr.32	s15, [r3]	@ int
 740 0018 F8EE677A 		vcvt.f32.u32	s15, s15
 141:bsp/dwt/bsp_dwt.c ****         ;
 741              		.loc 1 141 45 discriminator 1 view .LVU171
 742 001c 67EE807A 		vmul.f32	s15, s15, s0
 141:bsp/dwt/bsp_dwt.c ****         ;
 743              		.loc 1 141 11 discriminator 1 view .LVU172
 744 0020 B4EEE77A 		vcmpe.f32	s14, s15
 745 0024 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 746 0028 ECD4     		bmi	.L43
 143:bsp/dwt/bsp_dwt.c **** }
 747              		.loc 1 143 1 view .LVU173
 748 002a 7047     		bx	lr
 749              	.L45:
 750              		.align	2
 751              	.L44:
 752 002c 001000E0 		.word	-536866816
 753 0030 00000000 		.word	.LANCHOR5
 754              		.cfi_endproc
 755              	.LFE158:
 757              		.section	.text.DWT_Delay_us,"ax",%progbits
 758              		.align	1
 759              		.global	DWT_Delay_us
 760              		.syntax unified
 761              		.thumb
 762              		.thumb_func
 764              	DWT_Delay_us:
 765              	.LVL28:
 766              	.LFB159:
 144:bsp/dwt/bsp_dwt.c **** 
 145:bsp/dwt/bsp_dwt.c **** void DWT_Delay_us(float Delay_us)
 146:bsp/dwt/bsp_dwt.c **** {
 767              		.loc 1 146 1 is_stmt 1 view -0
 768              		.cfi_startproc
 769              		@ args = 0, pretend = 0, frame = 0
 770              		@ frame_needed = 0, uses_anonymous_args = 0
 771              		@ link register save eliminated.
 147:bsp/dwt/bsp_dwt.c ****     uint32_t tickstart = DWT->CYCCNT;
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 17


 772              		.loc 1 147 5 view .LVU175
 773              		.loc 1 147 14 is_stmt 0 view .LVU176
 774 0000 0A4B     		ldr	r3, .L48
 775 0002 5A68     		ldr	r2, [r3, #4]
 776              	.LVL29:
 148:bsp/dwt/bsp_dwt.c ****     float wait = Delay_us;
 777              		.loc 1 148 5 is_stmt 1 view .LVU177
 149:bsp/dwt/bsp_dwt.c **** 
 150:bsp/dwt/bsp_dwt.c ****     while ((DWT->CYCCNT - tickstart) < wait * (float)CPU_FREQ_Hz_us)
 778              		.loc 1 150 5 view .LVU178
 779              	.L47:
 151:bsp/dwt/bsp_dwt.c ****         ;
 780              		.loc 1 151 9 discriminator 1 view .LVU179
 150:bsp/dwt/bsp_dwt.c ****         ;
 781              		.loc 1 150 11 discriminator 1 view .LVU180
 150:bsp/dwt/bsp_dwt.c ****         ;
 782              		.loc 1 150 16 is_stmt 0 discriminator 1 view .LVU181
 783 0004 094B     		ldr	r3, .L48
 784 0006 5B68     		ldr	r3, [r3, #4]
 150:bsp/dwt/bsp_dwt.c ****         ;
 785              		.loc 1 150 25 discriminator 1 view .LVU182
 786 0008 9B1A     		subs	r3, r3, r2
 150:bsp/dwt/bsp_dwt.c ****         ;
 787              		.loc 1 150 38 discriminator 1 view .LVU183
 788 000a 07EE903A 		vmov	s15, r3	@ int
 789 000e B8EE677A 		vcvt.f32.u32	s14, s15
 150:bsp/dwt/bsp_dwt.c ****         ;
 790              		.loc 1 150 47 discriminator 1 view .LVU184
 791 0012 074B     		ldr	r3, .L48+4
 792 0014 D3ED007A 		vldr.32	s15, [r3]	@ int
 793 0018 F8EE677A 		vcvt.f32.u32	s15, s15
 150:bsp/dwt/bsp_dwt.c ****         ;
 794              		.loc 1 150 45 discriminator 1 view .LVU185
 795 001c 67EE807A 		vmul.f32	s15, s15, s0
 150:bsp/dwt/bsp_dwt.c ****         ;
 796              		.loc 1 150 11 discriminator 1 view .LVU186
 797 0020 B4EEE77A 		vcmpe.f32	s14, s15
 798 0024 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 799 0028 ECD4     		bmi	.L47
 152:bsp/dwt/bsp_dwt.c **** }...
 800              		.loc 1 152 1 view .LVU187
 801 002a 7047     		bx	lr
 802              	.L49:
 803              		.align	2
 804              	.L48:
 805 002c 001000E0 		.word	-536866816
 806 0030 00000000 		.word	.LANCHOR5
 807              		.cfi_endproc
 808              	.LFE159:
 810              		.section	.bss.CNT_TEMP1.2,"aw",%nobits
 811              		.align	3
 812              		.set	.LANCHOR7,. + 0
 815              	CNT_TEMP1.2:
 816 0000 00000000 		.space	8
 816      00000000 
 817              		.section	.bss.CNT_TEMP2.1,"aw",%nobits
 818              		.align	3
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 18


 819              		.set	.LANCHOR8,. + 0
 822              	CNT_TEMP2.1:
 823 0000 00000000 		.space	8
 823      00000000 
 824              		.section	.bss.CNT_TEMP3.0,"aw",%nobits
 825              		.align	3
 826              		.set	.LANCHOR10,. + 0
 829              	CNT_TEMP3.0:
 830 0000 00000000 		.space	8
 830      00000000 
 831              		.section	.bss.CPU_FREQ_Hz,"aw",%nobits
 832              		.align	2
 833              		.set	.LANCHOR3,. + 0
 836              	CPU_FREQ_Hz:
 837 0000 00000000 		.space	4
 838              		.section	.bss.CPU_FREQ_Hz_ms,"aw",%nobits
 839              		.align	2
 840              		.set	.LANCHOR4,. + 0
 843              	CPU_FREQ_Hz_ms:
 844 0000 00000000 		.space	4
 845              		.section	.bss.CPU_FREQ_Hz_us,"aw",%nobits
 846              		.align	2
 847              		.set	.LANCHOR5,. + 0
 850              	CPU_FREQ_Hz_us:
 851 0000 00000000 		.space	4
 852              		.section	.bss.CYCCNT64,"aw",%nobits
 853              		.align	3
 854              		.set	.LANCHOR6,. + 0
 857              	CYCCNT64:
 858 0000 00000000 		.space	8
 858      00000000 
 859              		.section	.bss.CYCCNT_LAST,"aw",%nobits
 860              		.align	2
 861              		.set	.LANCHOR1,. + 0
 864              	CYCCNT_LAST:
 865 0000 00000000 		.space	4
 866              		.section	.bss.CYCCNT_RountCount,"aw",%nobits
 867              		.align	2
 868              		.set	.LANCHOR2,. + 0
 871              	CYCCNT_RountCount:
 872 0000 00000000 		.space	4
 873              		.section	.bss.SysTime,"aw",%nobits
 874              		.align	2
 875              		.set	.LANCHOR9,. + 0
 878              	SysTime:
 879 0000 00000000 		.space	8
 879      00000000 
 880              		.section	.bss.bit_locker.3,"aw",%nobits
 881              		.set	.LANCHOR0,. + 0
 884              	bit_locker.3:
 885 0000 00       		.space	1
 886              		.text
 887              	.Letext0:
 888              		.file 2 "d:\\rm\\arm-gnu-toolchian\\arm-none-eabi\\include\\machine\\_default_types.h"
 889              		.file 3 "d:\\rm\\arm-gnu-toolchian\\arm-none-eabi\\include\\sys\\_stdint.h"
 890              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 891              		.file 5 "bsp/dwt/bsp_dwt.h"
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 19


ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 20


DEFINED SYMBOLS
                            *ABS*:00000000 bsp_dwt.c
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:19     .text.DWT_CNT_Update:00000000 $t
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:24     .text.DWT_CNT_Update:00000000 DWT_CNT_Update
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:94     .text.DWT_CNT_Update:0000003c $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:102    .text.DWT_Init:00000000 $t
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:108    .text.DWT_Init:00000000 DWT_Init
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:173    .text.DWT_Init:0000004c $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:186    .text.DWT_GetDeltaT:00000000 $t
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:192    .text.DWT_GetDeltaT:00000000 DWT_GetDeltaT
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:260    .text.DWT_GetDeltaT:00000040 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:266    .text.DWT_GetDeltaT64:00000000 $t
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:272    .text.DWT_GetDeltaT64:00000000 DWT_GetDeltaT64
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:340    .text.DWT_GetDeltaT64:00000040 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:347    .text.DWT_SysTimeUpdate:00000000 $t
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:353    .text.DWT_SysTimeUpdate:00000000 DWT_SysTimeUpdate
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:474    .text.DWT_SysTimeUpdate:000000a4 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:488    .text.DWT_GetTimeline_s:00000000 $t
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:494    .text.DWT_GetTimeline_s:00000000 DWT_GetTimeline_s
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:539    .text.DWT_GetTimeline_s:00000040 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:546    .text.DWT_GetTimeline_ms:00000000 $t
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:552    .text.DWT_GetTimeline_ms:00000000 DWT_GetTimeline_ms
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:595    .text.DWT_GetTimeline_ms:00000034 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:601    .text.DWT_GetTimeline_us:00000000 $t
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:607    .text.DWT_GetTimeline_us:00000000 DWT_GetTimeline_us
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:646    .text.DWT_GetTimeline_us:00000024 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:652    .text.DWT_Delay:00000000 $t
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:658    .text.DWT_Delay:00000000 DWT_Delay
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:699    .text.DWT_Delay:0000002c $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:705    .text.DWT_Delay_ms:00000000 $t
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:711    .text.DWT_Delay_ms:00000000 DWT_Delay_ms
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:752    .text.DWT_Delay_ms:0000002c $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:758    .text.DWT_Delay_us:00000000 $t
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:764    .text.DWT_Delay_us:00000000 DWT_Delay_us
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:805    .text.DWT_Delay_us:0000002c $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:811    .bss.CNT_TEMP1.2:00000000 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:815    .bss.CNT_TEMP1.2:00000000 CNT_TEMP1.2
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:818    .bss.CNT_TEMP2.1:00000000 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:822    .bss.CNT_TEMP2.1:00000000 CNT_TEMP2.1
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:825    .bss.CNT_TEMP3.0:00000000 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:829    .bss.CNT_TEMP3.0:00000000 CNT_TEMP3.0
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:832    .bss.CPU_FREQ_Hz:00000000 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:836    .bss.CPU_FREQ_Hz:00000000 CPU_FREQ_Hz
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:839    .bss.CPU_FREQ_Hz_ms:00000000 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:843    .bss.CPU_FREQ_Hz_ms:00000000 CPU_FREQ_Hz_ms
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:846    .bss.CPU_FREQ_Hz_us:00000000 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:850    .bss.CPU_FREQ_Hz_us:00000000 CPU_FREQ_Hz_us
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:853    .bss.CYCCNT64:00000000 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:857    .bss.CYCCNT64:00000000 CYCCNT64
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:860    .bss.CYCCNT_LAST:00000000 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:864    .bss.CYCCNT_LAST:00000000 CYCCNT_LAST
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:867    .bss.CYCCNT_RountCount:00000000 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:871    .bss.CYCCNT_RountCount:00000000 CYCCNT_RountCount
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:874    .bss.SysTime:00000000 $d
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:878    .bss.SysTime:00000000 SysTime
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:884    .bss.bit_locker.3:00000000 bit_locker.3
C:\Users\blue\AppData\Local\Temp\cch7h3Em.s:885    .bss.bit_locker.3:00000000 $d
ARM GAS  C:\Users\blue\AppData\Local\Temp\cch7h3Em.s 			page 21



UNDEFINED SYMBOLS
__aeabi_uldivmod
