ARM GAS  C:\Users\blue\AppData\Local\Temp\cchzMb9e.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"message_center.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.CheckLen,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	CheckLen:
  25              	.LVL0:
  26              	.LFB4:
  27              		.file 1 "modules/message_center/message_center.c"
   1:modules/message_center/message_center.c **** #include "message_center.h"
   2:modules/message_center/message_center.c **** #include "stdlib.h"
   3:modules/message_center/message_center.c **** #include "string.h"
   4:modules/message_center/message_center.c **** #include "bsp_log.h"
   5:modules/message_center/message_center.c **** 
   6:modules/message_center/message_center.c **** /* message_centerÊòØfake head node,ÊòØÊñπ‰æøÈìæË°®ÁºñÂÜôÁöÑÊäÄÂ∑ß,ËøôÊ†∑Â∞±‰∏çÈúÄË¶ÅÂ§ÑÁêÜÈìæË°®Â§¥
   7:modules/message_center/message_center.c **** static Publisher_t message_center = {
   8:modules/message_center/message_center.c ****     .topic_name = "Message_Manager",
   9:modules/message_center/message_center.c ****     .first_subs = NULL,
  10:modules/message_center/message_center.c ****     .next_topic_node = NULL};
  11:modules/message_center/message_center.c **** 
  12:modules/message_center/message_center.c **** static void CheckName(char *name)
  13:modules/message_center/message_center.c **** {
  14:modules/message_center/message_center.c ****     if (strnlen(name, MAX_TOPIC_NAME_LEN + 1) >= MAX_TOPIC_NAME_LEN)
  15:modules/message_center/message_center.c ****     {
  16:modules/message_center/message_center.c ****         while (1)
  17:modules/message_center/message_center.c ****             ; // ËøõÂÖ•ËøôÈáåËØ¥ÊòéËØùÈ¢òÂêçË∂ÖÂá∫ÈïøÂ∫¶ÈôêÂà∂
  18:modules/message_center/message_center.c ****     }
  19:modules/message_center/message_center.c **** }
  20:modules/message_center/message_center.c **** 
  21:modules/message_center/message_center.c **** static void CheckLen(uint8_t len1, uint8_t len2)
  22:modules/message_center/message_center.c **** {
  28              		.loc 1 22 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  23:modules/message_center/message_center.c ****     if (len1 != len2)
  33              		.loc 1 23 5 view .LVU1
  34              		.loc 1 23 8 is_stmt 0 view .LVU2
  35 0000 8842     		cmp	r0, r1
ARM GAS  C:\Users\blue\AppData\Local\Temp\cchzMb9e.s 			page 2


  36 0002 00D0     		beq	.L1
  37              	.L3:
  24:modules/message_center/message_center.c ****     {
  25:modules/message_center/message_center.c ****         while (1)
  38              		.loc 1 25 9 is_stmt 1 discriminator 1 view .LVU3
  26:modules/message_center/message_center.c ****             ; // ËøõÂÖ•ËøôÈáåËØ¥ÊòéÁõ∏ÂêåËØùÈ¢òÁöÑÊ∂àÊÅØÈïøÂ∫¶Âç¥‰∏çÂêå
  39              		.loc 1 26 13 discriminator 1 view .LVU4
  25:modules/message_center/message_center.c ****             ; // ËøõÂÖ•ËøôÈáåËØ¥ÊòéÁõ∏ÂêåËØùÈ¢òÁöÑÊ∂àÊÅØÈïøÂ∫¶Âç¥‰∏çÂêå
  40              		.loc 1 25 15 discriminator 1 view .LVU5
  41 0004 FEE7     		b	.L3
  42              	.L1:
  27:modules/message_center/message_center.c ****     }
  28:modules/message_center/message_center.c **** }
  43              		.loc 1 28 1 is_stmt 0 view .LVU6
  44 0006 7047     		bx	lr
  45              		.cfi_endproc
  46              	.LFE4:
  48              		.section	.text.CheckName,"ax",%progbits
  49              		.align	1
  50              		.syntax unified
  51              		.thumb
  52              		.thumb_func
  54              	CheckName:
  55              	.LVL1:
  56              	.LFB3:
  13:modules/message_center/message_center.c ****     if (strnlen(name, MAX_TOPIC_NAME_LEN + 1) >= MAX_TOPIC_NAME_LEN)
  57              		.loc 1 13 1 is_stmt 1 view -0
  58              		.cfi_startproc
  59              		@ args = 0, pretend = 0, frame = 0
  60              		@ frame_needed = 0, uses_anonymous_args = 0
  13:modules/message_center/message_center.c ****     if (strnlen(name, MAX_TOPIC_NAME_LEN + 1) >= MAX_TOPIC_NAME_LEN)
  61              		.loc 1 13 1 is_stmt 0 view .LVU8
  62 0000 08B5     		push	{r3, lr}
  63              	.LCFI0:
  64              		.cfi_def_cfa_offset 8
  65              		.cfi_offset 3, -8
  66              		.cfi_offset 14, -4
  14:modules/message_center/message_center.c ****     {
  67              		.loc 1 14 5 is_stmt 1 view .LVU9
  14:modules/message_center/message_center.c ****     {
  68              		.loc 1 14 9 is_stmt 0 view .LVU10
  69 0002 2121     		movs	r1, #33
  70 0004 FFF7FEFF 		bl	strnlen
  71              	.LVL2:
  14:modules/message_center/message_center.c ****     {
  72              		.loc 1 14 8 view .LVU11
  73 0008 1F28     		cmp	r0, #31
  74 000a 00D9     		bls	.L4
  75              	.L6:
  16:modules/message_center/message_center.c ****             ; // ËøõÂÖ•ËøôÈáåËØ¥ÊòéËØùÈ¢òÂêçË∂ÖÂá∫ÈïøÂ∫¶ÈôêÂà∂
  76              		.loc 1 16 9 is_stmt 1 discriminator 1 view .LVU12
  17:modules/message_center/message_center.c ****     }
  77              		.loc 1 17 13 discriminator 1 view .LVU13
  16:modules/message_center/message_center.c ****             ; // ËøõÂÖ•ËøôÈáåËØ¥ÊòéËØùÈ¢òÂêçË∂ÖÂá∫ÈïøÂ∫¶ÈôêÂà∂
  78              		.loc 1 16 15 discriminator 1 view .LVU14
  79 000c FEE7     		b	.L6
  80              	.L4:
ARM GAS  C:\Users\blue\AppData\Local\Temp\cchzMb9e.s 			page 3


  19:modules/message_center/message_center.c **** 
  81              		.loc 1 19 1 is_stmt 0 view .LVU15
  82 000e 08BD     		pop	{r3, pc}
  83              		.cfi_endproc
  84              	.LFE3:
  86              		.section	.text.PubRegister,"ax",%progbits
  87              		.align	1
  88              		.global	PubRegister
  89              		.syntax unified
  90              		.thumb
  91              		.thumb_func
  93              	PubRegister:
  94              	.LVL3:
  95              	.LFB5:
  29:modules/message_center/message_center.c **** 
  30:modules/message_center/message_center.c **** Publisher_t *PubRegister(char *name, uint8_t data_len)
  31:modules/message_center/message_center.c **** {
  96              		.loc 1 31 1 is_stmt 1 view -0
  97              		.cfi_startproc
  98              		@ args = 0, pretend = 0, frame = 0
  99              		@ frame_needed = 0, uses_anonymous_args = 0
 100              		.loc 1 31 1 is_stmt 0 view .LVU17
 101 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 102              	.LCFI1:
 103              		.cfi_def_cfa_offset 24
 104              		.cfi_offset 3, -24
 105              		.cfi_offset 4, -20
 106              		.cfi_offset 5, -16
 107              		.cfi_offset 6, -12
 108              		.cfi_offset 7, -8
 109              		.cfi_offset 14, -4
 110 0002 0546     		mov	r5, r0
 111 0004 0F46     		mov	r7, r1
  32:modules/message_center/message_center.c ****     CheckName(name);
 112              		.loc 1 32 5 is_stmt 1 view .LVU18
 113 0006 FFF7FEFF 		bl	CheckName
 114              	.LVL4:
  33:modules/message_center/message_center.c ****     Publisher_t *node = &message_center;
 115              		.loc 1 33 5 view .LVU19
  34:modules/message_center/message_center.c ****     while (node->next_topic_node) // message_center‰ºöÁõ¥Êé•Ë∑≥Ëøá,‰∏çÈúÄË¶ÅÁâπÊÆäÂ§ÑÁêÜ,ËøôË¢´Áß∞‰
 116              		.loc 1 34 5 view .LVU20
  33:modules/message_center/message_center.c ****     Publisher_t *node = &message_center;
 117              		.loc 1 33 18 is_stmt 0 view .LVU21
 118 000a 144C     		ldr	r4, .L14
 119              	.LVL5:
 120              	.L9:
 121              		.loc 1 34 11 is_stmt 1 view .LVU22
 122 000c 2646     		mov	r6, r4
 123              		.loc 1 34 16 is_stmt 0 view .LVU23
 124 000e A46A     		ldr	r4, [r4, #40]
 125              	.LVL6:
 126              		.loc 1 34 11 view .LVU24
 127 0010 74B1     		cbz	r4, .L13
  35:modules/message_center/message_center.c ****     {
  36:modules/message_center/message_center.c ****         node = node->next_topic_node;            // ÂàáÊç¢Âà∞‰∏ã‰∏Ä‰∏™ÂèëÂ∏ÉËÄÖ(ËØùÈ¢ò)ÁªìÁÇπ
 128              		.loc 1 36 9 is_stmt 1 view .LVU25
 129              	.LVL7:
ARM GAS  C:\Users\blue\AppData\Local\Temp\cchzMb9e.s 			page 4


  37:modules/message_center/message_center.c ****         if (strcmp(node->topic_name, name) == 0) // Â¶ÇÊûúÂ∑≤ÁªèÊ≥®ÂÜå‰∫ÜÁõ∏ÂêåÁöÑËØùÈ¢ò,Áõ¥Êé•ËøîÂ
 130              		.loc 1 37 9 view .LVU26
 131              		.loc 1 37 13 is_stmt 0 view .LVU27
 132 0012 2946     		mov	r1, r5
 133 0014 2046     		mov	r0, r4
 134 0016 FFF7FEFF 		bl	strcmp
 135              	.LVL8:
 136              		.loc 1 37 12 view .LVU28
 137 001a 0028     		cmp	r0, #0
 138 001c F6D1     		bne	.L9
  38:modules/message_center/message_center.c ****         {
  39:modules/message_center/message_center.c ****             CheckLen(data_len, node->data_len);
 139              		.loc 1 39 13 is_stmt 1 view .LVU29
 140 001e 94F82110 		ldrb	r1, [r4, #33]	@ zero_extendqisi2
 141 0022 3846     		mov	r0, r7
 142 0024 FFF7FEFF 		bl	CheckLen
 143              	.LVL9:
  40:modules/message_center/message_center.c ****             node->pub_registered_flag = 1;
 144              		.loc 1 40 13 view .LVU30
 145              		.loc 1 40 39 is_stmt 0 view .LVU31
 146 0028 0123     		movs	r3, #1
 147 002a 84F82C30 		strb	r3, [r4, #44]
  41:modules/message_center/message_center.c ****             return node;
 148              		.loc 1 41 13 is_stmt 1 view .LVU32
 149              		.loc 1 41 20 is_stmt 0 view .LVU33
 150 002e 12E0     		b	.L8
 151              	.LVL10:
 152              	.L13:
  42:modules/message_center/message_center.c ****         }
  43:modules/message_center/message_center.c ****     } // ÈÅçÂéÜÂÆåÂèëÁé∞Â∞öÊú™ÂàõÂª∫nameÂØπÂ∫îÁöÑËØùÈ¢ò
  44:modules/message_center/message_center.c ****     // Âú®ÈìæË°®Â∞æÈÉ®ÂàõÂª∫Êñ∞ÁöÑËØùÈ¢òÂπ∂ÂàùÂßãÂåñ
  45:modules/message_center/message_center.c ****     node->next_topic_node = (Publisher_t *)malloc(sizeof(Publisher_t));
 153              		.loc 1 45 5 is_stmt 1 view .LVU34
 154              		.loc 1 45 44 is_stmt 0 view .LVU35
 155 0030 3020     		movs	r0, #48
 156 0032 FFF7FEFF 		bl	malloc
 157              	.LVL11:
 158              		.loc 1 45 27 view .LVU36
 159 0036 B062     		str	r0, [r6, #40]
  46:modules/message_center/message_center.c ****     memset(node->next_topic_node, 0, sizeof(Publisher_t));
 160              		.loc 1 46 5 is_stmt 1 view .LVU37
 161 0038 3022     		movs	r2, #48
 162 003a 0021     		movs	r1, #0
 163 003c FFF7FEFF 		bl	memset
 164              	.LVL12:
  47:modules/message_center/message_center.c ****     node->next_topic_node->data_len = data_len;
 165              		.loc 1 47 5 view .LVU38
 166              		.loc 1 47 9 is_stmt 0 view .LVU39
 167 0040 B36A     		ldr	r3, [r6, #40]
 168              		.loc 1 47 37 view .LVU40
 169 0042 83F82170 		strb	r7, [r3, #33]
  48:modules/message_center/message_center.c ****     strcpy(node->next_topic_node->topic_name, name);
 170              		.loc 1 48 5 is_stmt 1 view .LVU41
 171 0046 2946     		mov	r1, r5
 172 0048 B06A     		ldr	r0, [r6, #40]
 173 004a FFF7FEFF 		bl	strcpy
 174              	.LVL13:
ARM GAS  C:\Users\blue\AppData\Local\Temp\cchzMb9e.s 			page 5


  49:modules/message_center/message_center.c ****     node->pub_registered_flag = 1;
 175              		.loc 1 49 5 view .LVU42
 176              		.loc 1 49 31 is_stmt 0 view .LVU43
 177 004e 0123     		movs	r3, #1
 178 0050 86F82C30 		strb	r3, [r6, #44]
  50:modules/message_center/message_center.c ****     return node->next_topic_node;
 179              		.loc 1 50 5 is_stmt 1 view .LVU44
 180              		.loc 1 50 16 is_stmt 0 view .LVU45
 181 0054 B46A     		ldr	r4, [r6, #40]
 182              	.LVL14:
 183              	.L8:
  51:modules/message_center/message_center.c **** }
 184              		.loc 1 51 1 view .LVU46
 185 0056 2046     		mov	r0, r4
 186 0058 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 187              	.LVL15:
 188              	.L15:
 189              		.loc 1 51 1 view .LVU47
 190 005a 00BF     		.align	2
 191              	.L14:
 192 005c 00000000 		.word	.LANCHOR0
 193              		.cfi_endproc
 194              	.LFE5:
 196              		.section	.text.SubRegister,"ax",%progbits
 197              		.align	1
 198              		.global	SubRegister
 199              		.syntax unified
 200              		.thumb
 201              		.thumb_func
 203              	SubRegister:
 204              	.LVL16:
 205              	.LFB6:
  52:modules/message_center/message_center.c **** 
  53:modules/message_center/message_center.c **** Subscriber_t *SubRegister(char *name, uint8_t data_len)
  54:modules/message_center/message_center.c **** {
 206              		.loc 1 54 1 is_stmt 1 view -0
 207              		.cfi_startproc
 208              		@ args = 0, pretend = 0, frame = 0
 209              		@ frame_needed = 0, uses_anonymous_args = 0
 210              		.loc 1 54 1 is_stmt 0 view .LVU49
 211 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 212              	.LCFI2:
 213              		.cfi_def_cfa_offset 24
 214              		.cfi_offset 3, -24
 215              		.cfi_offset 4, -20
 216              		.cfi_offset 5, -16
 217              		.cfi_offset 6, -12
 218              		.cfi_offset 7, -8
 219              		.cfi_offset 14, -4
 220 0002 0E46     		mov	r6, r1
  55:modules/message_center/message_center.c ****     Publisher_t *pub = PubRegister(name, data_len); // Êü•ÊâæÊàñÂàõÂª∫ËØ•ËØùÈ¢òÁöÑÂèëÂ∏ÉËÄÖ
 221              		.loc 1 55 5 is_stmt 1 view .LVU50
 222              		.loc 1 55 24 is_stmt 0 view .LVU51
 223 0004 FFF7FEFF 		bl	PubRegister
 224              	.LVL17:
 225              		.loc 1 55 24 view .LVU52
 226 0008 0746     		mov	r7, r0
ARM GAS  C:\Users\blue\AppData\Local\Temp\cchzMb9e.s 			page 6


 227              	.LVL18:
  56:modules/message_center/message_center.c ****     // ÂàõÂª∫Êñ∞ÁöÑËÆ¢ÈòÖËÄÖÁªìÁÇπ,Áî≥ËØ∑ÂÜÖÂ≠ò,Ê≥®ÊÑèË¶ÅmemsetÂõ†‰∏∫Êñ∞Á©∫Èó¥‰∏ç‰∏ÄÂÆöÊòØÁ©∫ÁöÑ,Âè
  57:modules/message_center/message_center.c ****     Subscriber_t *ret = (Subscriber_t *)malloc(sizeof(Subscriber_t));
 228              		.loc 1 57 5 is_stmt 1 view .LVU53
 229              		.loc 1 57 41 is_stmt 0 view .LVU54
 230 000a 0C20     		movs	r0, #12
 231              	.LVL19:
 232              		.loc 1 57 41 view .LVU55
 233 000c FFF7FEFF 		bl	malloc
 234              	.LVL20:
 235 0010 0546     		mov	r5, r0
 236              	.LVL21:
  58:modules/message_center/message_center.c ****     memset(ret, 0, sizeof(Subscriber_t));
 237              		.loc 1 58 5 is_stmt 1 view .LVU56
 238 0012 0024     		movs	r4, #0
 239 0014 0460     		str	r4, [r0]	@ unaligned
 240 0016 4460     		str	r4, [r0, #4]	@ unaligned
 241 0018 8460     		str	r4, [r0, #8]	@ unaligned
  59:modules/message_center/message_center.c ****     // ÂØπÊñ∞Âª∫ÁöÑSubscriberËøõË°åÂàùÂßãÂåñ
  60:modules/message_center/message_center.c ****     ret->data_len = data_len; // ËÆæÂÆöÊï∞ÊçÆÈïøÂ∫¶
 242              		.loc 1 60 5 view .LVU57
 243              		.loc 1 60 19 is_stmt 0 view .LVU58
 244 001a 0671     		strb	r6, [r0, #4]
  61:modules/message_center/message_center.c ****     for (size_t i = 0; i < QUEUE_SIZE; ++i)
 245              		.loc 1 61 5 is_stmt 1 view .LVU59
 246              	.LBB2:
 247              		.loc 1 61 10 view .LVU60
 248              	.LVL22:
 249              	.L17:
 250              		.loc 1 61 24 discriminator 1 view .LVU61
 251              		.loc 1 61 5 is_stmt 0 discriminator 1 view .LVU62
 252 001c 44B1     		cbz	r4, .L18
 253              	.LBE2:
  62:modules/message_center/message_center.c ****     { // ÁªôÊ∂àÊÅØÈòüÂàóÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÂàÜÈÖçÁ©∫Èó¥,queueÈáå‰øùÂ≠òÁöÑÂÆûÈôÖ‰∏äÊòØÊï∞ÊçÆÊâßÊåáÈíà
  63:modules/message_center/message_center.c ****         ret->queue[i] = malloc(data_len);
  64:modules/message_center/message_center.c ****     }
  65:modules/message_center/message_center.c ****     // Â¶ÇÊûúÊòØÁ¨¨‰∏Ä‰∏™ËÆ¢ÈòÖËÄÖ,ÁâπÊÆäÂ§ÑÁêÜ‰∏Ä‰∏ã,Â∞Üfirst_subsÊåáÈíàÊåáÂêëÊñ∞Âª∫ÁöÑËÆ¢ÈòÖËÄÖ(Ë
  66:modules/message_center/message_center.c ****     if (pub->first_subs == NULL)
 254              		.loc 1 66 5 is_stmt 1 view .LVU63
 255              		.loc 1 66 12 is_stmt 0 view .LVU64
 256 001e 7B6A     		ldr	r3, [r7, #36]
 257              		.loc 1 66 8 view .LVU65
 258 0020 6BB1     		cbz	r3, .L22
 259              	.L19:
 260              	.LVL23:
  67:modules/message_center/message_center.c ****     {
  68:modules/message_center/message_center.c ****         pub->first_subs = ret;
  69:modules/message_center/message_center.c ****         return ret;
  70:modules/message_center/message_center.c ****     }
  71:modules/message_center/message_center.c ****     // Ëã•ËØ•ËØùÈ¢òÂ∑≤ÁªèÊúâËÆ¢ÈòÖËÄÖ, ÈÅçÂéÜËÆ¢ÈòÖËÄÖÈìæË°®,Áõ¥Âà∞Âà∞ËææÂ∞æÈÉ®
  72:modules/message_center/message_center.c ****     Subscriber_t *sub = pub->first_subs; // ‰Ωú‰∏∫iterator
  73:modules/message_center/message_center.c ****     while (sub->next_subs_queue)         // ÈÅçÂéÜËÆ¢ÈòÖ‰∫ÜËØ•ËØùÈ¢òÁöÑËÆ¢ÈòÖËÄÖÈìæË°®
 261              		.loc 1 73 11 is_stmt 1 view .LVU66
 262 0022 1A46     		mov	r2, r3
 263              		.loc 1 73 15 is_stmt 0 view .LVU67
 264 0024 9B68     		ldr	r3, [r3, #8]
 265              	.LVL24:
ARM GAS  C:\Users\blue\AppData\Local\Temp\cchzMb9e.s 			page 7


 266              		.loc 1 73 11 view .LVU68
 267 0026 002B     		cmp	r3, #0
 268 0028 FBD1     		bne	.L19
  74:modules/message_center/message_center.c ****     {
  75:modules/message_center/message_center.c ****         sub = sub->next_subs_queue; // ÁßªÂä®Âà∞‰∏ã‰∏Ä‰∏™ËÆ¢ÈòÖËÄÖ,ÈÅáÂà∞Á©∫ÊåáÈíàÂÅú‰∏ã,ËØ¥ÊòéÂà∞‰
  76:modules/message_center/message_center.c ****     }
  77:modules/message_center/message_center.c ****     sub->next_subs_queue = ret; // ÊääÂàöÂàöÂàõÂª∫ÁöÑËÆ¢ÈòÖËÄÖÊé•‰∏ä
 269              		.loc 1 77 5 is_stmt 1 view .LVU69
 270              		.loc 1 77 26 is_stmt 0 view .LVU70
 271 002a 9560     		str	r5, [r2, #8]
  78:modules/message_center/message_center.c ****     return ret;
 272              		.loc 1 78 5 is_stmt 1 view .LVU71
 273              	.LVL25:
 274              	.L16:
  79:modules/message_center/message_center.c **** }
 275              		.loc 1 79 1 is_stmt 0 view .LVU72
 276 002c 2846     		mov	r0, r5
 277 002e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 278              	.LVL26:
 279              	.L18:
 280              	.LBB3:
  63:modules/message_center/message_center.c ****     }
 281              		.loc 1 63 9 is_stmt 1 discriminator 3 view .LVU73
  63:modules/message_center/message_center.c ****     }
 282              		.loc 1 63 25 is_stmt 0 discriminator 3 view .LVU74
 283 0030 3046     		mov	r0, r6
 284 0032 FFF7FEFF 		bl	malloc
 285              	.LVL27:
  63:modules/message_center/message_center.c ****     }
 286              		.loc 1 63 23 discriminator 3 view .LVU75
 287 0036 45F82400 		str	r0, [r5, r4, lsl #2]
  61:modules/message_center/message_center.c ****     { // ÁªôÊ∂àÊÅØÈòüÂàóÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÂàÜÈÖçÁ©∫Èó¥,queueÈáå‰øùÂ≠òÁöÑÂÆûÈôÖ‰∏äÊòØÊï∞ÊçÆÊâßÊåáÈíà
 288              		.loc 1 61 40 is_stmt 1 discriminator 3 view .LVU76
 289 003a 0134     		adds	r4, r4, #1
 290              	.LVL28:
  61:modules/message_center/message_center.c ****     { // ÁªôÊ∂àÊÅØÈòüÂàóÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÂàÜÈÖçÁ©∫Èó¥,queueÈáå‰øùÂ≠òÁöÑÂÆûÈôÖ‰∏äÊòØÊï∞ÊçÆÊâßÊåáÈíà
 291              		.loc 1 61 40 is_stmt 0 discriminator 3 view .LVU77
 292 003c EEE7     		b	.L17
 293              	.L22:
  61:modules/message_center/message_center.c ****     { // ÁªôÊ∂àÊÅØÈòüÂàóÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÂàÜÈÖçÁ©∫Èó¥,queueÈáå‰øùÂ≠òÁöÑÂÆûÈôÖ‰∏äÊòØÊï∞ÊçÆÊâßÊåáÈíà
 294              		.loc 1 61 40 discriminator 3 view .LVU78
 295              	.LBE3:
  68:modules/message_center/message_center.c ****         return ret;
 296              		.loc 1 68 9 is_stmt 1 view .LVU79
  68:modules/message_center/message_center.c ****         return ret;
 297              		.loc 1 68 25 is_stmt 0 view .LVU80
 298 003e 7D62     		str	r5, [r7, #36]
  69:modules/message_center/message_center.c ****     }
 299              		.loc 1 69 9 is_stmt 1 view .LVU81
  69:modules/message_center/message_center.c ****     }
 300              		.loc 1 69 16 is_stmt 0 view .LVU82
 301 0040 F4E7     		b	.L16
 302              		.cfi_endproc
 303              	.LFE6:
 305              		.section	.text.SubGetMessage,"ax",%progbits
 306              		.align	1
 307              		.global	SubGetMessage
ARM GAS  C:\Users\blue\AppData\Local\Temp\cchzMb9e.s 			page 8


 308              		.syntax unified
 309              		.thumb
 310              		.thumb_func
 312              	SubGetMessage:
 313              	.LVL29:
 314              	.LFB7:
  80:modules/message_center/message_center.c **** 
  81:modules/message_center/message_center.c **** /* Â¶ÇÊûúÈòüÂàó‰∏∫Á©∫,‰ºöËøîÂõû0;ÊàêÂäüËé∑ÂèñÊï∞ÊçÆ,ËøîÂõû1;ÂêéÁª≠ÂèØ‰ª•ÂÅöÊõ¥Â§öÁöÑ‰øÆÊîπ,ÊØîÂ¶ÇÂâ
  82:modules/message_center/message_center.c **** uint8_t SubGetMessage(Subscriber_t *sub, void *data_ptr)
  83:modules/message_center/message_center.c **** {
 315              		.loc 1 83 1 is_stmt 1 view -0
 316              		.cfi_startproc
 317              		@ args = 0, pretend = 0, frame = 0
 318              		@ frame_needed = 0, uses_anonymous_args = 0
 319              		.loc 1 83 1 is_stmt 0 view .LVU84
 320 0000 10B5     		push	{r4, lr}
 321              	.LCFI3:
 322              		.cfi_def_cfa_offset 8
 323              		.cfi_offset 4, -8
 324              		.cfi_offset 14, -4
 325 0002 0446     		mov	r4, r0
  84:modules/message_center/message_center.c ****     if (sub->temp_size == 0)
 326              		.loc 1 84 5 is_stmt 1 view .LVU85
 327              		.loc 1 84 12 is_stmt 0 view .LVU86
 328 0004 C079     		ldrb	r0, [r0, #7]	@ zero_extendqisi2
 329              	.LVL30:
 330              		.loc 1 84 8 view .LVU87
 331 0006 00B9     		cbnz	r0, .L26
 332              	.LVL31:
 333              	.L24:
  85:modules/message_center/message_center.c ****     {
  86:modules/message_center/message_center.c ****         return 0;
  87:modules/message_center/message_center.c ****     }
  88:modules/message_center/message_center.c ****     memcpy(data_ptr, sub->queue[sub->front_idx], sub->data_len);
  89:modules/message_center/message_center.c ****     sub->front_idx = (sub->front_idx++) % QUEUE_SIZE; // ÈòüÂàóÂ§¥Á¥¢ÂºïÂ¢ûÂä†
  90:modules/message_center/message_center.c ****     sub->temp_size--;                                 // pop‰∏Ä‰∏™Êï∞ÊçÆ,ÈïøÂ∫¶Âáè1
  91:modules/message_center/message_center.c ****     return 1;
  92:modules/message_center/message_center.c **** }
 334              		.loc 1 92 1 view .LVU88
 335 0008 10BD     		pop	{r4, pc}
 336              	.LVL32:
 337              	.L26:
 338              		.loc 1 92 1 view .LVU89
 339 000a 0B46     		mov	r3, r1
  88:modules/message_center/message_center.c ****     sub->front_idx = (sub->front_idx++) % QUEUE_SIZE; // ÈòüÂàóÂ§¥Á¥¢ÂºïÂ¢ûÂä†
 340              		.loc 1 88 5 is_stmt 1 view .LVU90
  88:modules/message_center/message_center.c ****     sub->front_idx = (sub->front_idx++) % QUEUE_SIZE; // ÈòüÂàóÂ§¥Á¥¢ÂºïÂ¢ûÂä†
 341              		.loc 1 88 36 is_stmt 0 view .LVU91
 342 000c 6179     		ldrb	r1, [r4, #5]	@ zero_extendqisi2
 343              	.LVL33:
  88:modules/message_center/message_center.c ****     sub->front_idx = (sub->front_idx++) % QUEUE_SIZE; // ÈòüÂàóÂ§¥Á¥¢ÂºïÂ¢ûÂä†
 344              		.loc 1 88 5 view .LVU92
 345 000e 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 346 0010 54F82110 		ldr	r1, [r4, r1, lsl #2]
 347 0014 1846     		mov	r0, r3
 348 0016 FFF7FEFF 		bl	memcpy
 349              	.LVL34:
ARM GAS  C:\Users\blue\AppData\Local\Temp\cchzMb9e.s 			page 9


  89:modules/message_center/message_center.c ****     sub->temp_size--;                                 // pop‰∏Ä‰∏™Êï∞ÊçÆ,ÈïøÂ∫¶Âáè1
 350              		.loc 1 89 5 is_stmt 1 view .LVU93
  89:modules/message_center/message_center.c ****     sub->temp_size--;                                 // pop‰∏Ä‰∏™Êï∞ÊçÆ,ÈïøÂ∫¶Âáè1
 351              		.loc 1 89 26 is_stmt 0 view .LVU94
 352 001a 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
  89:modules/message_center/message_center.c ****     sub->temp_size--;                                 // pop‰∏Ä‰∏™Êï∞ÊçÆ,ÈïøÂ∫¶Âáè1
 353              		.loc 1 89 37 view .LVU95
 354 001c 0133     		adds	r3, r3, #1
 355 001e 6371     		strb	r3, [r4, #5]
  89:modules/message_center/message_center.c ****     sub->temp_size--;                                 // pop‰∏Ä‰∏™Êï∞ÊçÆ,ÈïøÂ∫¶Âáè1
 356              		.loc 1 89 20 view .LVU96
 357 0020 0023     		movs	r3, #0
 358 0022 6371     		strb	r3, [r4, #5]
  90:modules/message_center/message_center.c ****     return 1;
 359              		.loc 1 90 5 is_stmt 1 view .LVU97
  90:modules/message_center/message_center.c ****     return 1;
 360              		.loc 1 90 8 is_stmt 0 view .LVU98
 361 0024 E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
  90:modules/message_center/message_center.c ****     return 1;
 362              		.loc 1 90 19 view .LVU99
 363 0026 013B     		subs	r3, r3, #1
 364 0028 E371     		strb	r3, [r4, #7]
  91:modules/message_center/message_center.c **** }
 365              		.loc 1 91 5 is_stmt 1 view .LVU100
  91:modules/message_center/message_center.c **** }
 366              		.loc 1 91 12 is_stmt 0 view .LVU101
 367 002a 0120     		movs	r0, #1
 368 002c ECE7     		b	.L24
 369              		.cfi_endproc
 370              	.LFE7:
 372              		.section	.text.PubPushMessage,"ax",%progbits
 373              		.align	1
 374              		.global	PubPushMessage
 375              		.syntax unified
 376              		.thumb
 377              		.thumb_func
 379              	PubPushMessage:
 380              	.LVL35:
 381              	.LFB8:
  93:modules/message_center/message_center.c **** 
  94:modules/message_center/message_center.c **** uint8_t PubPushMessage(Publisher_t *pub, void *data_ptr)
  95:modules/message_center/message_center.c **** {
 382              		.loc 1 95 1 is_stmt 1 view -0
 383              		.cfi_startproc
 384              		@ args = 0, pretend = 0, frame = 0
 385              		@ frame_needed = 0, uses_anonymous_args = 0
 386              		.loc 1 95 1 is_stmt 0 view .LVU103
 387 0000 70B5     		push	{r4, r5, r6, lr}
 388              	.LCFI4:
 389              		.cfi_def_cfa_offset 16
 390              		.cfi_offset 4, -16
 391              		.cfi_offset 5, -12
 392              		.cfi_offset 6, -8
 393              		.cfi_offset 14, -4
 394 0002 0546     		mov	r5, r0
 395 0004 0E46     		mov	r6, r1
  96:modules/message_center/message_center.c ****     static Subscriber_t *iter;
ARM GAS  C:\Users\blue\AppData\Local\Temp\cchzMb9e.s 			page 10


 396              		.loc 1 96 5 is_stmt 1 view .LVU104
  97:modules/message_center/message_center.c ****     iter = pub->first_subs; // iter‰Ωú‰∏∫ËÆ¢ÈòÖËÄÖÊåáÈíà,ÈÅçÂéÜËÆ¢ÈòÖËØ•ËØùÈ¢òÁöÑÊâÄÊúâËÆ¢ÈòÖËÄÖ;Â¶
 397              		.loc 1 97 5 view .LVU105
 398              		.loc 1 97 15 is_stmt 0 view .LVU106
 399 0006 426A     		ldr	r2, [r0, #36]
 400              		.loc 1 97 10 view .LVU107
 401 0008 0F4B     		ldr	r3, .L33
 402 000a 1A60     		str	r2, [r3]
  98:modules/message_center/message_center.c ****     // ÈÅçÂéÜËÆ¢ÈòÖ‰∫ÜÂΩìÂâçËØùÈ¢òÁöÑÊâÄÊúâËÆ¢ÈòÖËÄÖ,‰æùÊ¨°Â°´ÂÖ•ÊúÄÊñ∞Ê∂àÊÅØ
  99:modules/message_center/message_center.c ****     while (iter)
 403              		.loc 1 99 5 is_stmt 1 view .LVU108
 404              		.loc 1 99 11 is_stmt 0 view .LVU109
 405 000c 0FE0     		b	.L28
 406              	.LVL36:
 407              	.L29:
 100:modules/message_center/message_center.c ****     {
 101:modules/message_center/message_center.c ****         if (iter->temp_size == QUEUE_SIZE) // Â¶ÇÊûúÈòüÂàóÂ∑≤Êª°,ÂàôÈúÄË¶ÅÂà†Èô§ÊúÄËÄÅÁöÑÊï∞ÊçÆ(Â§¥
 102:modules/message_center/message_center.c ****         {
 103:modules/message_center/message_center.c ****             // ÈòüÂàóÂ§¥Á¥¢ÂºïÂâçÁßªÂä®,Áõ∏ÂΩì‰∫éÊäõÂºÉÂâç‰∏Ä‰∏™‰ΩçÁΩÆÁöÑÊï∞ÊçÆ,Ë¢´ÊäõÂºÉÁöÑ‰ΩçÁΩÆÁ
 104:modules/message_center/message_center.c ****             iter->front_idx = (iter->front_idx + 1) % QUEUE_SIZE;
 105:modules/message_center/message_center.c ****             iter->temp_size--; // Áõ∏ÂΩì‰∫éÂá∫Èòü,size-1
 106:modules/message_center/message_center.c ****         }
 107:modules/message_center/message_center.c ****         // Â∞ÜPubÁöÑÊï∞ÊçÆÂ§çÂà∂Âà∞ÈòüÂàóÁöÑÂ∞æÈÉ®(ÊúÄÊñ∞)
 108:modules/message_center/message_center.c ****         memcpy(iter->queue[iter->back_idx], data_ptr, pub->data_len);
 408              		.loc 1 108 9 is_stmt 1 view .LVU110
 409              		.loc 1 108 32 is_stmt 0 view .LVU111
 410 000e A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 411              		.loc 1 108 9 view .LVU112
 412 0010 95F82120 		ldrb	r2, [r5, #33]	@ zero_extendqisi2
 413 0014 3146     		mov	r1, r6
 414 0016 54F82300 		ldr	r0, [r4, r3, lsl #2]
 415 001a FFF7FEFF 		bl	memcpy
 416              	.LVL37:
 109:modules/message_center/message_center.c ****         iter->back_idx = (iter->back_idx + 1) % QUEUE_SIZE; // ÈòüÂàóÂ∞æÈÉ®ÂâçÁßª
 417              		.loc 1 109 9 is_stmt 1 view .LVU113
 418              		.loc 1 109 24 is_stmt 0 view .LVU114
 419 001e 0023     		movs	r3, #0
 420 0020 A371     		strb	r3, [r4, #6]
 110:modules/message_center/message_center.c ****         iter->temp_size++;                                  // ÂÖ•Èòü,size+1
 421              		.loc 1 110 9 is_stmt 1 view .LVU115
 422              		.loc 1 110 13 is_stmt 0 view .LVU116
 423 0022 E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
 424              		.loc 1 110 24 view .LVU117
 425 0024 0133     		adds	r3, r3, #1
 426 0026 E371     		strb	r3, [r4, #7]
 111:modules/message_center/message_center.c **** 
 112:modules/message_center/message_center.c ****         iter = iter->next_subs_queue; // ËÆøÈóÆ‰∏ã‰∏Ä‰∏™ËÆ¢ÈòÖËÄÖ
 427              		.loc 1 112 9 is_stmt 1 view .LVU118
 428              		.loc 1 112 20 is_stmt 0 view .LVU119
 429 0028 A268     		ldr	r2, [r4, #8]
 430              		.loc 1 112 14 view .LVU120
 431 002a 074B     		ldr	r3, .L33
 432 002c 1A60     		str	r2, [r3]
 433              	.L28:
  99:modules/message_center/message_center.c ****     {
 434              		.loc 1 99 11 is_stmt 1 view .LVU121
  99:modules/message_center/message_center.c ****     {
ARM GAS  C:\Users\blue\AppData\Local\Temp\cchzMb9e.s 			page 11


 435              		.loc 1 99 12 is_stmt 0 view .LVU122
 436 002e 064B     		ldr	r3, .L33
 437 0030 1C68     		ldr	r4, [r3]
  99:modules/message_center/message_center.c ****     {
 438              		.loc 1 99 11 view .LVU123
 439 0032 3CB1     		cbz	r4, .L32
 101:modules/message_center/message_center.c ****         {
 440              		.loc 1 101 9 is_stmt 1 view .LVU124
 101:modules/message_center/message_center.c ****         {
 441              		.loc 1 101 17 is_stmt 0 view .LVU125
 442 0034 E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
 101:modules/message_center/message_center.c ****         {
 443              		.loc 1 101 12 view .LVU126
 444 0036 012B     		cmp	r3, #1
 445 0038 E9D1     		bne	.L29
 104:modules/message_center/message_center.c ****             iter->temp_size--; // Áõ∏ÂΩì‰∫éÂá∫Èòü,size-1
 446              		.loc 1 104 13 is_stmt 1 view .LVU127
 104:modules/message_center/message_center.c ****             iter->temp_size--; // Áõ∏ÂΩì‰∫éÂá∫Èòü,size-1
 447              		.loc 1 104 29 is_stmt 0 view .LVU128
 448 003a 0022     		movs	r2, #0
 449 003c 6271     		strb	r2, [r4, #5]
 105:modules/message_center/message_center.c ****         }
 450              		.loc 1 105 13 is_stmt 1 view .LVU129
 105:modules/message_center/message_center.c ****         }
 451              		.loc 1 105 28 is_stmt 0 view .LVU130
 452 003e 013B     		subs	r3, r3, #1
 453 0040 E371     		strb	r3, [r4, #7]
 454 0042 E4E7     		b	.L29
 455              	.L32:
 113:modules/message_center/message_center.c ****     }
 114:modules/message_center/message_center.c ****     return 1;
 456              		.loc 1 114 5 is_stmt 1 view .LVU131
 115:modules/message_center/message_center.c **** }...
 457              		.loc 1 115 1 is_stmt 0 view .LVU132
 458 0044 0120     		movs	r0, #1
 459 0046 70BD     		pop	{r4, r5, r6, pc}
 460              	.LVL38:
 461              	.L34:
 462              		.loc 1 115 1 view .LVU133
 463              		.align	2
 464              	.L33:
 465 0048 00000000 		.word	.LANCHOR1
 466              		.cfi_endproc
 467              	.LFE8:
 469              		.section	.bss.iter.0,"aw",%nobits
 470              		.align	2
 471              		.set	.LANCHOR1,. + 0
 474              	iter.0:
 475 0000 00000000 		.space	4
 476              		.section	.data.message_center,"aw"
 477              		.align	2
 478              		.set	.LANCHOR0,. + 0
 481              	message_center:
 482 0000 4D657373 		.ascii	"Message_Manager\000"
 482      6167655F 
 482      4D616E61 
 482      67657200 
ARM GAS  C:\Users\blue\AppData\Local\Temp\cchzMb9e.s 			page 12


 483 0010 00000000 		.space	17
 483      00000000 
 483      00000000 
 483      00000000 
 483      00
 484 0021 000000   		.space	3
 485 0024 00000000 		.word	0
 486 0028 00000000 		.word	0
 487 002c 00000000 		.space	4
 488              		.text
 489              	.Letext0:
 490              		.file 2 "d:\\rm\\arm-gnu-toolchian\\arm-none-eabi\\include\\machine\\_default_types.h"
 491              		.file 3 "d:\\rm\\arm-gnu-toolchian\\arm-none-eabi\\include\\sys\\_stdint.h"
 492              		.file 4 "modules/message_center/message_center.h"
 493              		.file 5 "d:\\rm\\arm-gnu-toolchian\\lib\\gcc\\arm-none-eabi\\10.3.1\\include\\stddef.h"
 494              		.file 6 "d:\\rm\\arm-gnu-toolchian\\arm-none-eabi\\include\\stdlib.h"
 495              		.file 7 "d:\\rm\\arm-gnu-toolchian\\arm-none-eabi\\include\\string.h"
 496              		.file 8 "<built-in>"
ARM GAS  C:\Users\blue\AppData\Local\Temp\cchzMb9e.s 			page 13


DEFINED SYMBOLS
                            *ABS*:00000000 message_center.c
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:19     .text.CheckLen:00000000 $t
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:24     .text.CheckLen:00000000 CheckLen
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:49     .text.CheckName:00000000 $t
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:54     .text.CheckName:00000000 CheckName
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:87     .text.PubRegister:00000000 $t
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:93     .text.PubRegister:00000000 PubRegister
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:192    .text.PubRegister:0000005c $d
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:197    .text.SubRegister:00000000 $t
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:203    .text.SubRegister:00000000 SubRegister
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:306    .text.SubGetMessage:00000000 $t
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:312    .text.SubGetMessage:00000000 SubGetMessage
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:373    .text.PubPushMessage:00000000 $t
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:379    .text.PubPushMessage:00000000 PubPushMessage
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:465    .text.PubPushMessage:00000048 $d
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:470    .bss.iter.0:00000000 $d
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:474    .bss.iter.0:00000000 iter.0
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:477    .data.message_center:00000000 $d
C:\Users\blue\AppData\Local\Temp\cchzMb9e.s:481    .data.message_center:00000000 message_center

UNDEFINED SYMBOLS
strnlen
strcmp
malloc
memset
strcpy
memcpy
